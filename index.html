
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kasa Açma Oyunu MK</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <style>
    /* Preloader Stilleri */
    #preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, #1a1a1a, #000000);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 1s ease-out, visibility 1s ease-out;
      color: white;
    }

    #preloader.hidden {
      opacity: 0;
      visibility: hidden;
    }

    .loader {
      border: 8px solid #333;
      border-top: 8px solid #00ffff;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      animation: spin 1.5s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    #preloader h2 {
      margin-top: 20px;
      font-family: 'Orbitron', sans-serif;
      font-size: 28px;
      color: #00ff99;
      text-shadow: 0 0 10px rgba(0, 255, 153, 0.7);
    }

    body {
      margin: 0;
      font-family: 'Share Tech Mono', monospace;
      background: radial-gradient(circle, #1a1a1a, #000000);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      overflow-x: hidden;
      padding: 20px;
      box-sizing: border-box;
    }
    
    #global-announcement {
        position: fixed;
        top: -100px;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        max-width: 600px;
        background: linear-gradient(45deg, gold, orange);
        color: #1a1a1a;
        text-align: center;
        padding: 10px;
        border-radius: 0 0 15px 15px;
        font-family: 'Orbitron', sans-serif;
        font-size: 18px;
        font-weight: bold;
        z-index: 10000;
        box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
        transition: top 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);
    }
    #global-announcement.show {
        top: 0;
    }
    
    #user-profile-display {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1001;
      display: none; /* JS ile görünür yapılacak */
      align-items: center;
      gap: 10px;
      background-color: rgba(0, 0, 0, 0.6);
      padding: 8px 15px;
      border-radius: 25px;
      border: 1px solid #00ffff;
      box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
      font-family: 'Orbitron', sans-serif;
    }
    #user-profile-display img {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 2px solid #00ff99;
    }
    #user-profile-display span {
      font-size: 16px;
      font-weight: bold;
      color: #fff;
    }

    h1 {
      margin-bottom: 20px;
      margin-top: 50px;
      font-size: 40px;
      background: linear-gradient(45deg, #00ffff, #8a2be2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-family: 'Orbitron', sans-serif;
      text-shadow: 0 0 15px rgba(0, 255, 255, 0.7);
    }

    #current-time {
      font-size: 24px;
      margin-bottom: 20px;
      color: #00ff99;
      font-family: 'Orbitron', sans-serif;
      text-shadow: 0 0 10px rgba(0, 255, 153, 0.7);
    }

    #stats {
      display: flex;
      gap: 30px;
      margin-bottom: 25px;
      font-size: 20px;
      background-color: rgba(0, 0, 0, 0.5);
      padding: 10px 20px;
      border-radius: 10px;
      border: 1px solid #00ffff;
      box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
      flex-wrap: wrap; /* Mobil için */
      justify-content: center;
    }

    #stats > div {
        display: flex;
        align-items: center;
    }

    #balance span, #case-cost span, #player-xp span {
      margin-left: 8px;
      font-weight: bold;
      color: #00ff99;
    }
    
    #main-container {
      display: flex;
      flex-direction: row;
      gap: 25px;
      width: 100%;
      max-width: 1100px;
      align-items: flex-start;
      margin-top: 10px;
    }

    #game-core {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
    }
    
    #side-info {
        width: 280px;
        flex-shrink: 0;
    }

    #main-screen-probability {
        background-color: rgba(0, 0, 0, 0.5);
        padding: 15px;
        border-radius: 10px;
        border: 1px solid #00ffff;
        box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
    }

    #main-screen-probability h3 {
        font-family: 'Orbitron', sans-serif;
        font-size: 20px;
        margin-top: 0;
        margin-bottom: 10px;
        background: linear-gradient(45deg, #00ffff, #8a2be2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    #main-screen-probability p {
        font-size: 13px;
        color: #ccc;
        margin-bottom: 15px;
        line-height: 1.4;
    }


    #case {
      width: 100%;
      max-width: 700px;
      overflow: hidden;
      border: 3px solid #00ffff;
      border-radius: 15px;
      background: #0d0d0d;
      position: relative;
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.7);
      margin-bottom: 25px;
    }

    #items {
      display: flex;
      transition: transform 3.5s cubic-bezier(0.25, 1, 0.5, 1);
    }

    .item {
      min-width: 120px;
      height: 120px;
      margin: 8px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      border-radius: 10px;
      box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.7);
      transition: transform 0.3s, box-shadow 0.3s, filter 0.3s;
      text-align: center;
      padding: 5px;
      box-sizing: border-box;
      position: relative;
      overflow: hidden;
      flex-shrink: 0;
    }

    .item img, .inventory-item img, .item-details-modal .item-display img, .daily-reward-item img {
      width: 80%;
      height: 65%;
      object-fit: contain;
      margin-bottom: 5px;
      filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5));
      transition: filter 0.3s;
    }

    .item.highlighted {
      box-shadow: 0 0 30px white, 0 0 60px currentColor, inset 0 0 20px rgba(255, 255, 255, 0.8);
      transform: scale(1.15);
      border: 3px solid white;
    }

    .item-name {
        font-size: 14px;
        position: absolute;
        bottom: 5px;
        width: 100%;
        padding: 0 5px;
        box-sizing: border-box;
    }

    /* Nadirlik renkleri */
    .common { background: linear-gradient(135deg, #333, #555); border: 2px solid #555; }
    .common .item-name { color: #ccc; }
    .rare { background: linear-gradient(135deg, #2b6cb0, #4299e1); border: 2px solid #4299e1; }
    .rare .item-name { color: #90cdf4; }
    .epic { background: linear-gradient(135deg, #6b46c1, #805ad5); border: 2px solid #805ad5; }
    .epic .item-name { color: #d6bcfa; }
    .legendary { background: linear-gradient(135deg, #dd6b20, #ed8936); border: 2px solid #ed8936; }
    .legendary .item-name { color: #fbd38d; }
    .exotic { background: linear-gradient(135deg, #a0aec0, #cbd5e0); border: 2px solid #cbd5e0; }
    .exotic .item-name { color: #4a5568; }
    .ancient { background: linear-gradient(135deg, #e53e3e, #f56565); border: 2px solid #f56565; }
    .ancient .item-name { color: #fed7d7; }
    .immortal { background: linear-gradient(135deg, #d69e2e, #ecc94b); border: 2px solid #ecc94b; }
    .immortal .item-name { color: #feebc8; }
    
    .chroma {
        border: 2px solid;
        border-image-slice: 1;
        border-image-source: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet);
        animation: rgb-bg 4s linear infinite;
        background-size: 400% 400%;
    }
    .chroma .item-name { animation: rgb-text 4s linear infinite; }

    @keyframes rgb-bg {
        0%{background-position:0% 50%}
        50%{background-position:100% 50%}
        100%{background-position:0% 50%}
    }
    @keyframes rgb-text {
        0%{color: #ff0000;}
        17%{color: #ff7f00;}
        33%{color: #ffff00;}
        50%{color: #00ff00;}
        67%{color: #0000ff;}
        83%{color: #4b0082;}
        100%{color: #ff0000;}
    }

    #openBtn {
      padding: 16px 35px;
      font-size: 22px;
      border: none;
      border-radius: 15px;
      background: linear-gradient(45deg, #00ff99, #00ccff);
      color: white;
      cursor: pointer;
      box-shadow: 0 0 20px #00ffd0, 0 0 40px rgba(0, 255, 208, 0.5);
      transition: all 0.3s ease;
      font-family: 'Orbitron', sans-serif;
    }

    #openBtn:hover {
      background: linear-gradient(45deg, #00cc77, #0099cc);
      transform: translateY(-3px);
      box-shadow: 0 5px 25px #00ffd0, 0 5px 50px rgba(0, 255, 208, 0.7);
    }

    #openBtn:disabled {
      background: linear-gradient(45deg, #444, #666);
      cursor: not-allowed;
      box-shadow: none;
    }
    
    .toggle-switch {
      position: relative;
      display: inline-flex;
      align-items: center;
      width: 120px;
      height: 40px;
      background-color: #333;
      border-radius: 20px;
      cursor: pointer;
      border: 1px solid #8a2be2;
    }
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #555;
      transition: .4s;
      border-radius: 20px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 32px;
      width: 32px;
      left: 4px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    .toggle-switch input:checked + .slider {
      background-color: #00ff99;
    }
    .toggle-switch input:checked + .slider:before {
      transform: translateX(80px);
    }
    .toggle-label {
        font-family: 'Orbitron', sans-serif;
        font-size: 14px;
        margin-left: 40px;
        color: white;
        pointer-events: none;
        z-index: 1;
        transition: color 0.4s;
    }
    .toggle-switch input:checked ~ .toggle-label {
        color: #1a1a1a;
        margin-left: 8px;
    }

    #result {
      margin-top: 15px;
      font-size: 26px;
      font-weight: bold;
      text-shadow: 0 0 15px #fff, 0 0 25px currentColor;
      text-align: center;
      min-height: 40px;
    }

    .highlight {
      animation: pop 0.6s ease-out;
    }

    @keyframes pop {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.4); opacity: 1; text-shadow: 0 0 20px #fff, 0 0 30px currentColor; }
      100% { transform: scale(1); opacity: 1; }
    }

    .selector {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 50%;
      width: 6px;
      background: #ff00ea;
      transform: translateX(-50%);
      z-index: 10;
      box-shadow: 0 0 15px #ff00ea, 0 0 25px rgba(255, 0, 234, 0.7);
      border-radius: 3px;
    }

    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        visibility: hidden;
        opacity: 0;
        transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
    }

    .modal-overlay.show {
        visibility: visible;
        opacity: 1;
    }

    .modal-content {
        background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
        border: 2px solid #00ffff;
        border-radius: 15px;
        padding: 30px;
        text-align: center;
        box-shadow: 0 0 40px rgba(0, 255, 255, 0.7);
        max-width: 90%;
        max-height: 90%;
        overflow-y: auto;
        transform: translateY(-20px);
        transition: transform 0.3s ease-in-out;
        position: relative;
    }
    .modal-overlay.show .modal-content {
        transform: translateY(0);
    }

    .modal-content h2, .modal-content h3 {
        font-family: 'Orbitron', sans-serif;
        font-size: 28px;
        margin-bottom: 15px;
        background: linear-gradient(45deg, #00ffff, #8a2be2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .modal-content button.close-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        background: none;
        border: none;
        color: #00ffff;
        font-size: 30px;
        cursor: pointer;
        transition: transform 0.2s;
    }
    .modal-content button.close-btn:hover {
        transform: scale(1.2);
    }

    #inventoryModal .modal-content {
      max-width: 800px;
    }
    #inventory-filters {
        margin-bottom: 20px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
    }
    #inventory-filters select, #inventory-filters button {
        padding: 8px 15px;
        border-radius: 8px;
        border: 1px solid #00ffff;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        font-family: 'Share Tech Mono', monospace;
        font-size: 14px;
        cursor: pointer;
        transition: background-color 0.2s, border-color 0.2s;
    }
    #inventory-filters select:hover, #inventory-filters button:hover {
        background-color: rgba(0, 255, 255, 0.2);
        border-color: #00ff99;
    }
    #inventory-filters button.active {
        background-color: #00ffff;
        color: #1a1a1a;
        box-shadow: 0 0 8px #00ffff;
    }
    #inventory {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
      min-height: 150px;
    }

    .inventory-item {
      width: 100px;
      height: 100px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      border: 2px solid;
      padding: 5px;
      box-sizing: border-box;
      text-align: center;
      font-size: 12px;
      font-weight: bold;
      color: white;
      position: relative;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .inventory-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(138, 43, 226, 0.5);
    }

    .inventory-item-name {
      font-size: 10px;
      position: absolute;
      bottom: 3px;
      width: 100%;
    }

    .inventory-item.favorite {
        border-color: gold !important;
        box-shadow: 0 0 10px gold, inset 0 0 5px gold !important;
    }
    .inventory-item .favorite-star {
        position: absolute;
        top: 5px;
        right: 5px;
        color: gold;
        font-size: 18px;
        text-shadow: 0 0 5px rgba(255, 215, 0, 0.7);
    }

    .inventory-item.common { background: #333; border-color: #555; }
    .inventory-item.common .inventory-item-name { color: #ccc; }
    .inventory-item.rare { background: #2b6cb0; border-color: #4299e1; }
    .inventory-item.rare .inventory-item-name { color: #90cdf4; }
    .inventory-item.epic { background: #6b46c1; border-color: #805ad5; }
    .inventory-item.epic .inventory-item-name { color: #d6bcfa; }
    .inventory-item.legendary { background: #dd6b20; border-color: #ed8936; }
    .inventory-item.legendary .inventory-item-name { color: #fbd38d; }
    .inventory-item.exotic { background: #a0aec0; border-color: #cbd5e0; }
    .inventory-item.exotic .inventory-item-name { color: #4a5568; }
    .inventory-item.ancient { background: #e53e3e; border-color: #f56565; }
    .inventory-item.ancient .item-name { color: #fed7d7; }
    .inventory-item.immortal { background: #d69e2e; border-color: #ecc94b; }
    .inventory-item.immortal .item-name { color: #feebc8; }
    .inventory-item.chroma {
        border-image-source: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet);
        animation: rgb-bg 4s linear infinite;
        background-size: 400% 400%;
    }

    #boostShopModal .modal-content {
      max-width: 700px;
    }
    #boosts-container {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
    }
    .boost-item {
        width: 150px;
        height: 120px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: 10px;
        border: 2px solid;
        padding: 10px;
        box-sizing: border-box;
        text-align: center;
        font-size: 14px;
        font-weight: bold;
        color: white;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        position: relative;
    }

    .boost-item:hover:not(:disabled) {
        transform: translateY(-5px);
        box-shadow: 0 5px 20px rgba(0, 255, 255, 0.5);
    }

    .boost-item.disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }

    .boost-item .boost-name {
        font-size: 16px;
        margin-bottom: 5px;
        font-family: 'Orbitron', sans-serif;
    }

    .boost-item .boost-description {
        font-size: 12px;
        margin-bottom: 8px;
        opacity: 0.8;
    }

    .boost-item .boost-price {
        font-size: 15px;
        font-weight: bold;
        color: #00ff99;
        position: absolute;
        bottom: 8px;
    }

    .boost-item.common-boost { background: linear-gradient(135deg, #333, #555); border-color: #555; }
    .boost-item.rare-boost { background: linear-gradient(135deg, #2b6cb0, #4299e1); border-color: #4299e1; }
    .boost-item.epic-boost { background: linear-gradient(135deg, #6b46c1, #805ad5); border-color: #805ad5; }
    .boost-item.legendary-boost { background: linear-gradient(135deg, #dd6b20, #ed8936); border-color: #ed8936; }
    .boost-item.immortal-boost { background: linear-gradient(135deg, #d69e2e, #ecc94b); border-color: #ecc94b; }

    #errorMessage {
      color: #ff4d4d;
      font-size: 18px;
      font-weight: bold;
      margin-top: 20px;
      text-align: center;
      min-height: 25px;
      visibility: hidden;
      opacity: 0;
      transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
    }
    #errorMessage.show {
      visibility: visible;
      opacity: 1;
    }

    .item-details-modal {
        max-width: 400px;
    }
    .item-details-modal h3 {
        font-family: 'Orbitron', sans-serif;
        font-size: 28px;
        margin-bottom: 15px;
        background: linear-gradient(45deg, #00ffff, #8a2be2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .item-details-modal .item-display {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-bottom: 20px;
    }
    .item-details-modal .item-display img {
        width: 150px;
        height: 150px;
        object-fit: contain;
        margin-bottom: 10px;
        border-radius: 10px;
        border: 2px solid currentColor;
        box-shadow: 0 0 15px currentColor;
    }
    .item-details-modal .item-display .item-rarity-text {
        font-size: 18px;
        font-weight: bold;
        text-transform: uppercase;
        margin-top: 5px;
    }

    .modal-buttons {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 20px;
    }

    .modal-buttons button {
        padding: 12px 25px;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-family: 'Share Tech Mono', monospace;
        color: white;
    }

    .modal-buttons button.sell-btn {
        background: linear-gradient(45deg, #ff4d4d, #cc0000);
        box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
    }
    .modal-buttons button.sell-btn:hover {
        background: linear-gradient(45deg, #cc0000, #990000);
        transform: translateY(-2px);
    }

    .modal-buttons button.favorite-btn {
        background: linear-gradient(45deg, #ffd700, #ff8c00);
        box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
    }
    .modal-buttons button.favorite-btn.active {
        background: linear-gradient(45deg, #ccaa00, #cc7000);
        box-shadow: 0 0 15px gold;
        transform: translateY(-2px);
    }
    .modal-buttons button.favorite-btn:hover {
        background: linear-gradient(45deg, #ffcc00, #ffa500);
        transform: translateY(-2px);
    }

    .modal-buttons button.close-btn-small {
        background: linear-gradient(45deg, #555, #333);
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    }
    .modal-buttons button.close-btn-small:hover {
        background: linear-gradient(45deg, #333, #111);
        transform: translateY(-2px);
    }

    .modal-message {
        margin-top: 15px;
        font-size: 16px;
        color: #00ff99;
        font-weight: bold;
    }

    #versionPatchesModal .modal-content {
      max-width: 600px;
    }
    #patches-list {
      list-style: none;
      padding: 0;
      margin: 0;
      text-align: left;
      max-height: 400px;
      overflow-y: auto;
    }

    #patches-list li {
      margin-bottom: 8px;
      padding-bottom: 8px;
      border-bottom: 1px dashed rgba(0, 255, 255, 0.3);
      line-height: 1.4;
    }

    #patches-list li:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    #patches-list li strong {
      color: #00ff99;
      font-size: 15px;
    }
    
    #event-timer-bar {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background: linear-gradient(45deg, gold, orange);
        color: #1a1a1a;
        text-align: center;
        padding: 8px;
        font-family: 'Orbitron', sans-serif;
        font-size: 16px;
        font-weight: bold;
        z-index: 998;
        box-shadow: 0 -5px 15px rgba(255, 215, 0, 0.4);
        display: none;
    }
    body.event-active {
        padding-bottom: 40px; /* Make space for the bar */
    }

    #achievementsModal .modal-content {
      max-width: 900px;
    }
    #achievements-list {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
        min-height: 100px;
    }

    .achievement-item {
        background-color: rgba(0, 0, 0, 0.7);
        border: 2px solid #8a2be2;
        border-radius: 10px;
        padding: 15px;
        width: 250px;
        text-align: left;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        min-height: 120px;
        box-shadow: 0 0 10px rgba(138, 43, 226, 0.5);
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .achievement-item.completed {
        border-color: gold;
        box-shadow: 0 0 15px gold;
        background-color: rgba(30, 20, 0, 0.7);
    }

    .achievement-item h4 {
        color: #00ffff;
        font-family: 'Orbitron', sans-serif;
        margin-top: 0;
        margin-bottom: 10px;
        font-size: 18px;
    }

    .achievement-item p {
        font-size: 14px;
        color: #e0f7fa;
        margin-bottom: 10px;
        flex-grow: 1;
    }

    .achievement-item .reward-text {
        font-size: 14px;
        font-weight: bold;
        color: #00ff99;
    }
    .achievement-item.completed .reward-text {
        color: gold;
    }

    .achievement-item .completion-status {
        font-size: 12px;
        color: #ccc;
        margin-top: 5px;
        font-style: italic;
    }
    .achievement-item.completed .completion-status {
        color: #00ff99;
        font-weight: bold;
    }
    
    .achievement-progress {
        margin-top: auto;
    }
    
    .achievement-progress-container {
        width: 100%;
        height: 10px;
        background-color: #2c2c2c;
        border-radius: 5px;
        overflow: hidden;
        border: 1px solid #555;
    }

    .achievement-progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #00ff99, #00ccff);
        border-radius: 5px;
        transition: width 0.3s ease-in-out;
    }

    .achievement-progress-text {
        font-size: 12px;
        text-align: right;
        color: #e0f7fa;
        margin-top: 3px;
    }

    #main-menu-btn {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1001;
        background: linear-gradient(45deg, #00ffff, #8a2be2);
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-family: 'Orbitron', sans-serif;
        font-size: 20px;
        box-shadow: 0 0 15px rgba(0, 255, 255, 0.7);
        transition: all 0.3s ease;
    }
    #main-menu-btn:hover {
        background: linear-gradient(45deg, #00b0b0, #6a1ac1);
        transform: scale(1.05);
        box-shadow: 0 0 20px rgba(0, 255, 255, 0.9);
    }

    #mainMenuModal .modal-content {
        max-width: 550px;
    }
    #mainMenuModal .menu-options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 15px;
    }
    #mainMenuModal .menu-options button {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 8px;
        width: 100%;
        height: 100px;
        padding: 10px;
        background: linear-gradient(45deg, #00ff99, #00ccff);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 14px;
        font-family: 'Orbitron', sans-serif;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 0 10px rgba(0, 255, 153, 0.5);
        position: relative;
    }
    #mainMenuModal .menu-options button:hover {
        background: linear-gradient(45deg, #00cc77, #0099cc);
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 255, 153, 0.7);
    }
    .menu-icon {
        width: 36px;
        height: 36px;
        pointer-events: none;
    }
    .menu-icon svg {
        width: 100%;
        height: 100%;
        fill: white;
    }
    .menu-text {
        pointer-events: none;
    }
    .notification-dot {
        position: absolute;
        top: 10px;
        right: 10px;
        width: 12px;
        height: 12px;
        background-color: red;
        border-radius: 50%;
        border: 2px solid white;
        box-shadow: 0 0 10px red;
    }


    #quick-access-buttons {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 999;
        display: flex;
        flex-direction: column;
        gap: 10px;
        transition: bottom 0.3s ease-in-out;
    }

    body.event-active #quick-access-buttons {
        bottom: 60px;
    }

    .quick-access-btn {
        background: linear-gradient(45deg, #8a2be2, #00ffff);
        color: white;
        width: 50px;
        height: 50px;
        border: none;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        box-shadow: 0 0 15px rgba(138, 43, 226, 0.7);
        transition: all 0.3s ease;
    }
    .quick-access-btn:hover {
        background: linear-gradient(45deg, #6a1ac1, #00b0b0);
        transform: scale(1.1);
        box-shadow: 0 0 20px rgba(138, 43, 226, 0.9);
    }
    .quick-access-btn .quick-icon {
        width: 28px;
        height: 28px;
    }
    .quick-access-btn .quick-icon svg {
        width: 100%;
        height: 100%;
        fill: white;
    }

    #autoSellModal .modal-content {
      max-width: 500px;
    }
    #auto-sell-options {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-bottom: 20px;
        text-align: left;
    }
    #auto-sell-options label {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 18px;
        color: #e0f7fa;
    }
    #auto-sell-options input[type="checkbox"] {
        width: 20px;
        height: 20px;
        accent-color: #00ff99;
    }
    #saveAutoSellBtn {
        padding: 10px 20px;
        background: linear-gradient(45deg, #00ff99, #00ccff);
        color: white;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-size: 18px;
        transition: all 0.2s ease;
    }
    #saveAutoSellBtn:hover {
        background: linear-gradient(45deg, #00cc77, #0099cc);
        transform: translateY(-2px);
    }
    #auto-sell-status {
      font-size: 16px;
      color: #00ff99;
      margin-top: 10px;
    }

    #autoOpenModal .modal-content {
      max-width: 500px;
    }
    #auto-open-info {
        font-size: 16px;
        color: #e0f7fa;
        margin-bottom: 15px;
    }
    #auto-open-controls {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-top: 20px;
    }
    #auto-open-start-btn, #auto-open-stop-btn {
        padding: 12px 25px;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-family: 'Share Tech Mono', monospace;
        color: white;
    }
    #auto-open-start-btn {
        background: linear-gradient(45deg, #00ff99, #00ccff);
    }
    #auto-open-start-btn:hover:not(:disabled) {
        background: linear-gradient(45deg, #00cc77, #0099cc);
        transform: translateY(-2px);
    }
    #auto-open-start-btn:disabled {
        background: linear-gradient(45deg, #444, #666);
        cursor: not-allowed;
    }
    #auto-open-stop-btn {
        background: linear-gradient(45deg, #ff4d4d, #cc0000);
    }
    #auto-open-stop-btn:hover:not(:disabled) {
        background: linear-gradient(45deg, #cc0000, #990000);
        transform: translateY(-2px);
    }

    #auto-open-count {
      font-size: 20px;
      color: #00ff99;
      margin-top: 15px;
    }

    #languageSelectModal .modal-content {
        max-width: 500px;
    }
    #language-options {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
    }
    #language-options button {
        padding: 12px 20px;
        font-size: 18px;
        background: linear-gradient(45deg, #00ffff, #8a2be2);
        color: white;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-family: 'Orbitron', sans-serif;
    }
    #language-options button:hover {
        background: linear-gradient(45deg, #00ccff, #6a1ac1);
        transform: translateY(-2px);
    }
    #language-options button.selected {
        background: linear-gradient(45deg, #00ff99, #00ccff);
        box-shadow: 0 0 15px rgba(0, 255, 153, 0.7);
    }

    #dailyRewardModal .modal-content {
        max-width: 750px;
    }
    #daily-rewards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 15px;
        margin-top: 20px;
    }
    .daily-reward-item {
        border: 2px solid #666;
        border-radius: 10px;
        padding: 15px;
        background-color: rgba(0,0,0,0.5);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        position: relative;
    }
    .daily-reward-item.claimable {
        border-color: #00ff99;
        box-shadow: 0 0 15px #00ff99;
        cursor: pointer;
        transform: scale(1.05);
    }
    .daily-reward-item.claimed {
        border-color: #8a2be2;
        opacity: 0.7;
    }
    .claimed-overlay {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(40, 20, 80, 0.7);
        border-radius: 8px; /* match parent's radius */
        display: flex;
        justify-content: center;
        align-items: center;
        color: #d6bcfa;
        font-family: 'Orbitron', sans-serif;
        font-size: 20px;
        font-weight: bold;
        text-shadow: 0 0 8px #8a2be2;
        pointer-events: none; /* allows hover effects on parent if any */
    }
    .daily-reward-item .day-number {
        font-family: 'Orbitron', sans-serif;
        font-size: 18px;
        margin-bottom: 10px;
    }
    .daily-reward-item .reward-preview img {
        width: 60px;
        height: 60px;
    }
    .daily-reward-item .reward-preview span {
        font-size: 24px;
        font-weight: bold;
        color: #00ff99;
    }
    .daily-reward-item .reward-name {
        font-size: 12px;
        margin-top: 8px;
        text-align: center;
    }

    #csPathModal .modal-content {
        max-width: 600px;
    }
    #cs-path-progress-bar-container {
        width: 100%;
        height: 30px;
        background-color: #222;
        border-radius: 15px;
        border: 1px solid #00ffff;
        margin-bottom: 10px;
        overflow: hidden;
    }
    #cs-path-progress-bar {
        width: 0%;
        height: 100%;
        background: linear-gradient(90deg, #00ff99, #00ccff);
        border-radius: 15px;
        transition: width 0.5s ease;
    }
    #cs-path-xp-text {
        font-size: 16px;
        margin-bottom: 20px;
    }
    #cs-path-rewards-list {
        max-height: 50vh;
        overflow-y: auto;
        padding-right: 10px;
    }
    .cs-path-tier {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background-color: rgba(0, 0, 0, 0.4);
        border: 1px solid #444;
        border-radius: 10px;
        padding: 10px 15px;
        margin-bottom: 10px;
        transition: all 0.3s;
    }
    .cs-path-tier.unlocked {
      border-color: #00ff99;
      box-shadow: 0 0 8px rgba(0, 255, 153, 0.5);
    }
    .cs-path-tier.claimed {
      border-color: #8a2be2;
      opacity: 0.6;
    }
    .cs-path-tier-info {
        text-align: left;
    }
    .cs-path-tier-info .tier-level {
        font-family: 'Orbitron', sans-serif;
        color: #00ffff;
        font-size: 18px;
    }
    .cs-path-tier-info .tier-reward {
        font-size: 14px;
        color: #ccc;
    }
    .cs-path-tier .claim-btn {
        padding: 8px 15px;
        font-size: 14px;
        background: linear-gradient(45deg, #00ff99, #00ccff);
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
    }
    .cs-path-tier .claim-btn:disabled {
        background: #555;
        cursor: not-allowed;
    }

    #achievement-toast {
      position: fixed;
      top: 20px;
      right: -500px;
      z-index: 10001;
      background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
      color: white;
      border: 2px solid gold;
      border-radius: 10px;
      padding: 15px 20px;
      box-shadow: 0 5px 25px rgba(255, 215, 0, 0.4);
      display: flex;
      align-items: center;
      gap: 15px;
      transition: right 0.5s cubic-bezier(0.25, 1, 0.5, 1);
    }
    #achievement-toast.show {
      right: 20px;
    }
    #achievement-toast .toast-icon {
      font-size: 36px;
    }
    #achievement-toast .toast-content h4 {
      margin: 0 0 5px 0;
      font-family: 'Orbitron', sans-serif;
      color: gold;
    }
    #achievement-toast .toast-content p {
      margin: 0;
      font-size: 14px;
      color: #eee;
    }

    #quick-actions-container {
      display: flex;
      gap: 15px; /* Butonlar arası boşluk */
      margin-top: 20px; /* Üstteki elementle boşluk */
      align-items: center; /* Dikey hizalama */
    }
    #quick-actions-extra {
        display: flex;
        gap: 10px;
        margin-top: 15px;
    }
    .quick-action-btn {
      padding: 8px;
      width: 50px;
      height: 40px;
      display: flex;
      justify-content: center;
      align-items: center;
      border: none;
      border-radius: 10px;
      color: white;
      cursor: pointer;
      box-shadow: 0 0 10px rgba(138, 43, 226, 0.5);
      background: linear-gradient(45deg, #8a2be2, #6a1ac1);
      transition: all 0.2s ease;
    }
    .quick-action-btn .quick-action-icon {
        width: 24px;
        height: 24px;
    }
    .quick-action-btn .quick-action-icon svg {
        fill: white;
        width: 100%;
        height: 100%;
    }
    .quick-action-btn:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(138, 43, 226, 0.7);
    }
    .quick-action-btn:disabled {
      background: #555;
      cursor: not-allowed;
      box-shadow: none;
    }
    
    #collectionModal .modal-content {
        max-width: 900px;
    }
    #collection-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        gap: 15px;
    }
    .collection-item {
        opacity: 0.4;
        filter: grayscale(80%);
    }
    .collection-item.found {
        opacity: 1;
        filter: grayscale(0%);
    }
    #collection-progress {
        margin-bottom: 20px;
        font-size: 18px;
        font-family: 'Orbitron', sans-serif;
    }
    
    #probability-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
    }
    #probability-table th, #probability-table td {
        padding: 8px;
        border: 1px solid rgba(0, 255, 255, 0.3);
        text-align: left;
        font-size: 14px;
    }
    #probability-table th {
        background-color: rgba(0, 255, 255, 0.1);
        font-family: 'Orbitron', sans-serif;
    }
    #probability-table td:last-child {
        font-weight: bold;
        color: #00ff99;
    }
    
    .form-group {
        margin-bottom: 15px;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
        width: 100%;
    }
    .form-group label {
        font-size: 16px;
        color: #00ffff;
    }
    .form-group input, .form-group select {
        width: 100%;
        padding: 10px;
        background-color: rgba(0, 0, 0, 0.7);
        border: 1px solid #00ffff;
        border-radius: 8px;
        color: white;
        font-size: 16px;
        box-sizing: border-box;
    }
    .form-group button {
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        background: linear-gradient(45deg, #00ff99, #00ccff);
        color: white;
        transition: all 0.2s ease;
        align-self: flex-end;
    }
    .form-group button:hover {
        transform: translateY(-2px);
    }
    #usernameModal {
        background-color: rgba(0, 0, 0, 0.9);
    }
    #usernameModal .form-group button {
        width: 100%;
    }

    @media (max-width: 900px) {
        #main-container {
            flex-direction: column;
            align-items: center;
        }
        #side-info {
            width: 100%;
            max-width: 500px;
            margin-top: 25px;
        }
    }

    @media (max-width: 768px) {
      #user-profile-display {
        padding: 6px 10px;
        gap: 8px;
      }
      #user-profile-display img {
        width: 28px;
        height: 28px;
      }
      #user-profile-display span {
        font-size: 14px;
      }
      h1 { font-size: 32px; }
      #current-time { font-size: 20px; }
      #stats { gap: 15px; font-size: 16px; }
      #game-core {
          width: 100%;
      }
      #case { max-width: 100%; }
      .item { min-width: 90px; height: 90px; margin: 5px; }
      .item-name { font-size: 12px; }
      #openBtn { padding: 12px 25px; font-size: 18px; }
      #result { font-size: 20px; }
      #errorMessage { font-size: 16px; }
      .modal-content h2, .modal-content h3 { font-size: 24px; }
      .inventory-item { width: 80px; height: 80px; }
      .inventory-item-name { font-size: 9px; }
      .boost-item { width: 120px; height: 100px; padding: 8px; }
      .boost-item .boost-name { font-size: 14px; }
      .boost-item .boost-description { font-size: 10px; }
      .boost-item .boost-price { font-size: 13px; }
      .item-details-modal h3 { font-size: 22px; }
      .item-details-modal .item-display img { width: 100px; height: 100px; }
      .modal-buttons button { padding: 10px 15px; font-size: 16px; }
      #main-menu-btn { font-size: 18px; padding: 8px 12px; }
      #mainMenuModal .menu-options { grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); gap: 10px; }
      #mainMenuModal .menu-options button { height: 80px; }
      .menu-icon { width: 28px; height: 28px; }
      .quick-access-btn { width: 45px; height: 45px; }
      .quick-access-btn .quick-icon { width: 24px; height: 24px; }
      .achievement-item { width: 100%; }
      #auto-sell-options label { font-size: 16px; }
      #auto-sell-options input[type="checkbox"] { width: 18px; height: 18px; }
      #auto-open-info { font-size: 14px; }
      #auto-open-start-btn, #auto-open-stop-btn { padding: 10px 20px; font-size: 16px; }
      #auto-open-count { font-size: 18px; }
      #language-options { grid-template-columns: 1fr; }
      #language-options button { font-size: 16px; padding: 10px 15px; }
      .daily-reward-item { padding: 10px; }
      #daily-rewards-grid { gap: 10px; }
    }

    @media (max-width: 480px) {
      #user-profile-display {
        display: none; /* Çok küçük ekranlarda gizle */
      }
      h1 { font-size: 28px; text-align: center; }
      #current-time { font-size: 18px; }
      #stats { width: 90%; }
      #case { border-radius: 10px; }
      .item { min-width: 70px; height: 70px; margin: 4px; font-size: 10px; }
      .item-name { font-size: 10px; }
      #openBtn { padding: 10px 20px; font-size: 16px; }
      #result { font-size: 18px; }
      #errorMessage { font-size: 14px; }
      .modal-content h2, .modal-content h3 { font-size: 20px; }
      .inventory-item { width: 70px; height: 70px; margin: 8px; }
      .boost-item { width: 100px; height: 90px; padding: 5px; }
      .boost-item .boost-name { font-size: 12px; }
      .boost-item .boost-description { font-size: 9px; }
      .boost-item .boost-price { font-size: 11px; }
      .item-details-modal h3 { font-size: 20px; }
      .item-details-modal .item-display img { width: 80px; height: 80px; }
      .modal-buttons { flex-direction: column; gap: 10px; }
      .modal-buttons button { width: 100%; }
      #main-menu-btn { font-size: 16px; padding: 6px 10px; }
      .menu-icon { width: 24px; height: 24px; }
      .quick-access-btn { width: 40px; height: 40px; }
      .quick-access-btn .quick-icon { width: 20px; height: 20px; }
      #auto-sell-options label { font-size: 14px; }
      #auto-sell-options input[type="checkbox"] { width: 16px; height: 16px; }
      #auto-open-info { font-size: 12px; }
      #auto-open-start-btn, #auto-open-stop-btn { padding: 8px 15px; font-size: 14px; }
      #auto-open-count { font-size: 16px; }
      #language-options button { font-size: 14px; padding: 8px 12px; }
      #achievement-toast { width: 90%; right: -100%; top: 10px; }
      #achievement-toast.show { right: 5%; }
      #quick-actions-container { flex-direction: column; gap: 10px; }
    }
  </style>
</head>
<body id="body">
  <div id="preloader">
    <div class="loader"></div>
    <h2 data-lang-key="loading">Yükleniyor...</h2>
  </div>

  <div id="user-profile-display">
    <img id="profile-avatar" src="" alt="Avatar">
    <span id="profile-username"></span>
  </div>

  <div id="global-announcement"></div>
  <div id="event-timer-bar"></div>

  <div id="achievement-toast">
      <span class="toast-icon">🏆</span>
      <div class="toast-content">
          <h4 id="toast-title"></h4>
          <p id="toast-desc"></p>
      </div>
  </div>

  <button id="main-menu-btn" data-lang-key="menuBtn">☰ Menü</button>

  <h1 data-lang-key="gameTitle">🎁 Kasa Açma Simülasyonu MK</h1>

  <div id="current-time"></div> 

  <div id="stats">
    <div id="balance" data-lang-key="balance">Bakiye: <span id="balance-amount">1000</span>$</div>
    <div id="case-cost" data-lang-key="caseCost">Kasa Maliyeti: <span id="cost-amount">100</span>$</div>
    <div id="player-xp" data-lang-key="playerXP">XP: <span id="xp-amount">0</span></div>
  </div>

  <div id="main-container">
    <div id="game-core">
        <div id="case">
            <div class="selector"></div>
            <div id="items"></div>
        </div>
        
        <div id="quick-actions-container">
            <button id="openBtn" data-lang-key="openCaseBtn">Kasayı Aç</button>
            <label id="autoOpenToggleContainer" class="toggle-switch" style="display: none;">
                <input type="checkbox" id="autoOpenToggle">
                <span class="slider"></span>
                <span class="toggle-label" data-lang-key="autoOpenBtn">Oto-Aç</span>
            </label>
        </div>

        <div id="quick-actions-extra">
            <button id="sellLastBtn" class="quick-action-btn" disabled>
                <span class="quick-action-icon">
                    <svg viewBox="0 0 24 24"><path d="M11 18h2v-4h4v-2h-4V8h-2v4H7v2h4zm-5 4h14V6H6zM8 2h8v2H8z"/></svg>
                </span>
            </button>
            <button id="muteBtn" class="quick-action-btn">
                <span class="quick-action-icon" id="muteIconContainer">
                    <!-- SVG will be injected here by script -->
                </span>
            </button>
        </div>

        <div id="result"></div>
        <div id="errorMessage"></div>
    </div>

    <div id="side-info">
        <div id="main-screen-probability">
            <h3 data-lang-key="probabilityTitle"></h3>
            <p data-lang-key="probabilityDesc"></p>
            <table id="probability-table">
                <thead>
                    <tr>
                        <th data-lang-key="rarityHeader"></th>
                        <th data-lang-key="chanceHeader"></th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
  </div>
  
  <audio id="openSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_73138b32f1.mp3" preload="auto"></audio>
  <audio id="winSound" src="https://cdn.pixabay.com/audio/2022/11/22/audio_74c8f2b1d3.mp3" preload="auto"></audio>
  <audio id="claimSound" src="https://cdn.pixabay.com/audio/2022/03/10/audio_c898992a40.mp3" preload="auto"></audio>

  <div id="mainMenuModal" class="modal-overlay">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('mainMenuModal')">&times;</button>
      <h2 data-lang-key="mainMenuTitle">Ana Menü</h2>
      <div class="menu-options">
        <button onclick="openModal('csPathModal')">
            <span class="menu-icon"><svg viewBox="0 0 24 24"><path d="M4 18h16v-2H4v2zm0-5h16v-2H4v2zm0-5h16V6H4v2z"/></svg></span>
            <span class="menu-text" data-lang-key="csPathBtn">CS Yolu</span>
        </button>
        <button onclick="openModal('dailyRewardModal')">
            <span class="menu-icon"><svg viewBox="0 0 24 24"><path d="M20 6h-2.18c.11-.31.18-.65.18-1a3 3 0 0 0-3-3H9a3 3 0 0 0-3 3c0 .35.07.69.18 1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm-8-2h4a1 1 0 0 1 1 1 1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1 1 1 0 0 1 1-1zm8 16H4V8h16v12z"/></svg></span>
            <span class="menu-text" data-lang-key="dailyRewardsBtn">Günlük</span>
            <div id="dailyRewardsMenuBtn"></div>
        </button>
        <button onclick="openModal('inventoryModal')">
            <span class="menu-icon"><svg viewBox="0 0 24 24"><path d="M20 6h-3.18C16.3 4.24 14.36 3 12 3s-4.3 1.24-4.82 3H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm-8 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/></svg></span>
            <span class="menu-text" data-lang-key="inventoryBtn">Envanter</span>
        </button>
        <button onclick="openModal('boostShopModal')">
            <span class="menu-icon"><svg viewBox="0 0 24 24"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zM7.17 14.75l.1.17H16.8l2.92-5.04-1.55-.89L16.8 11H8.53L4.27 2H1v2h2l3.6 7.59L5.25 14c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25z"/></svg></span>
            <span class="menu-text" data-lang-key="boostShopBtn">Boost Mağazası</span>
        </button>
        <button onclick="openModal('achievementsModal')">
            <span class="menu-icon"><svg viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 21 12 17.77 5.82 21 7 14.14 2 9.27l6.91-1.01L12 2z"/></svg></span>
            <span class="menu-text" data-lang-key="achievementsBtn">Başarımlar</span>
        </button>
         <button onclick="openModal('collectionModal')">
            <span class="menu-icon"><svg viewBox="0 0 24 24"><path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"/></svg></span>
            <span class="menu-text" data-lang-key="collectionBtn">Koleksiyon</span>
        </button>
        <button onclick="openModal('autoSellModal')">
            <span class="menu-icon"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-2-9h4v2h-4zm-2-4h8v2H8z"/></svg></span>
            <span class="menu-text" data-lang-key="autoSellSettingsBtn">Oto-Sat</span>
        </button>
        <button onclick="openModal('autoOpenModal')">
            <span class="menu-icon"><svg viewBox="0 0 24 24"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.08-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49 1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.08.49 0 .61.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/></svg></span>
            <span class="menu-text" data-lang-key="autoOpenBtn">Oto-Aç</span>
        </button>
        <button onclick="openModal('versionPatchesModal')">
            <span class="menu-icon"><svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/></svg></span>
            <span class="menu-text" data-lang-key="versionPatchesBtn">Yamalar</span>
        </button>
        <button onclick="openModal('languageSelectModal')">
            <span class="menu-icon"><svg viewBox="0 0 24 24"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg></span>
            <span class="menu-text" data-lang-key="languageBtn">Dil</span>
        </button>
        <button onclick="resetGameAndConfirm()">
            <span class="menu-icon"><svg viewBox="0 0 24 24"><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/></svg></span>
            <span class="menu-text" data-lang-key="resetGameBtn">Sıfırla</span>
        </button>
      </div>
    </div>
  </div>

  <div id="inventoryModal" class="modal-overlay">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('inventoryModal')">&times;</button>
      <h2 data-lang-key="inventoryTitle">Envanterin</h2>
      <div id="inventory-filters">
        <select id="rarityFilter">
          <option value="all" data-lang-key="allRarities"></option>
          <option value="common" data-lang-key="commonRarity"></option>
          <option value="rare" data-lang-key="rareRarity"></option>
          <option value="epic" data-lang-key="epicRarity"></option>
          <option value="legendary" data-lang-key="legendaryRarity"></option>
          <option value="exotic" data-lang-key="exoticRarity"></option>
          <option value="ancient" data-lang-key="ancientRarity"></option>
          <option value="immortal" data-lang-key="immortalRarity"></option>
          <option value="chroma" data-lang-key="chromaRarity"></option>
        </select>
        <select id="typeFilter">
          <option value="all" data-lang-key="allTypes"></option>
          <option value="item" data-lang-key="itemType"></option>
          <option value="boost" data-lang-key="boostType"></option>
        </select>
        <button onclick="applyInventoryFilters()" data-lang-key="filterBtn"></button>
        <button onclick="sellAllFilteredItems()" data-lang-key="sellAllFilteredBtn"></button>
      </div>
      <div id="inventory">
        <p id="no-items-message" data-lang-key="noItemsMessage"></p>
      </div>
    </div>
  </div>

  <div id="boostShopModal" class="modal-overlay">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('boostShopModal')">&times;</button>
      <h2 data-lang-key="boostShopTitle"></h2>
      <div id="boosts-container">
          <p id="no-boosts-message" style="display: none;" data-lang-key="noBoostsMessage"></p>
      </div>
    </div>
  </div>

  <div id="achievementsModal" class="modal-overlay">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('achievementsModal')">&times;</button>
      <h2 data-lang-key="achievementsTitle"></h2>
      <div id="achievements-list">
          <p id="no-achievements-message" style="display: none;" data-lang-key="noAchievementsMessage"></p>
      </div>
    </div>
  </div>

  <div id="itemDetailsModal" class="modal-overlay">
    <div class="modal-content item-details-modal">
        <button class="close-btn" onclick="closeModal('itemDetailsModal')">&times;</button>
        <h3 id="modalItemName"></h3>
        <div class="item-display">
            <img id="modalItemImage" src="" alt="Eşya Resmi">
            <div id="modalItemRarity" class="item-rarity-text"></div>
            <div id="modalItemSellPrice" class="modal-message"></div>
        </div>
        <div class="modal-buttons">
            <button id="sellItemBtn" class="sell-btn" data-lang-key="sellBtn"></button>
            <button id="favoriteItemBtn" class="favorite-btn" data-lang-key="favoriteBtn"></button>
            <button class="close-btn-small" onclick="closeModal('itemDetailsModal')" data-lang-key="closeBtn"></button>
        </div>
        <div id="modalMessage" class="modal-message"></div>
    </div>
  </div>

  <div id="versionPatchesModal" class="modal-overlay">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('versionPatchesModal')">&times;</button>
      <h2 data-lang-key="versionPatchesTitle"></h2>
      <ul id="patches-list">
      </ul>
    </div>
  </div>

  <div id="autoSellModal" class="modal-overlay">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('autoSellModal')">&times;</button>
      <h2 data-lang-key="autoSellSettingsTitle"></h2>
      <p data-lang-key="autoSellDescription"></p>
      <div id="auto-sell-options">
        <label><input type="checkbox" id="autoSellCommon"> <span data-lang-key="commonRarity"></span></label>
        <label><input type="checkbox" id="autoSellRare"> <span data-lang-key="rareRarity"></span></label>
        <label><input type="checkbox" id="autoSellEpic"> <span data-lang-key="epicRarity"></span></label>
        <label><input type="checkbox" id="autoSellLegendary"> <span data-lang-key="legendaryRarity"></span></label>
        <label><input type="checkbox" id="autoSellExotic"> <span data-lang-key="exoticRarity"></span></label>
        <label><input type="checkbox" id="autoSellAncient"> <span data-lang-key="ancientRarity"></span></label>
        <label><input type="checkbox" id="autoSellImmortal"> <span data-lang-key="immortalRarity"></span></label>
        <label><input type="checkbox" id="autoSellChroma"> <span data-lang-key="chromaRarity"></span></label>
      </div>
      <button id="saveAutoSellBtn" data-lang-key="saveSettingsBtn"></button>
      <div id="auto-sell-status"></div>
    </div>
  </div>

  <div id="autoOpenModal" class="modal-overlay">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('autoOpenModal')">&times;</button>
      <h2 data-lang-key="autoOpenTitle"></h2>
      <p id="auto-open-info"></p>
      <div id="auto-open-controls">
        <button id="auto-open-start-btn" data-lang-key="startBtn"></button>
        <button id="auto-open-stop-btn" disabled data-lang-key="stopBtn"></button>
      </div>
      <div id="auto-open-count" data-lang-key="casesOpened"></div>
    </div>
  </div>

  <div id="languageSelectModal" class="modal-overlay">
    <div class="modal-content">
        <button class="close-btn" onclick="closeModal('languageSelectModal')">&times;</button>
        <h2 data-lang-key="languageOptionsTitle"></h2>
        <div id="language-options">
            <button data-lang-code="en" data-lang-key="englishLang"></button>
            <button data-lang-code="tr" data-lang-key="turkishLang"></button>
            <button data-lang-code="ar" data-lang-key="arabicLang"></button>
            <button data-lang-code="de" data-lang-key="germanLang"></button>
            <button data-lang-code="es" data-lang-key="spanishLang"></button>
            <button data-lang-code="az" data-lang-key="azerbaijaniLang"></button>
            <button data-lang-code="ru" data-lang-key="russianLang"></button>
            <button data-lang-code="ja" data-lang-key="japaneseLang"></button>
            <button data-lang-code="ko" data-lang-key="koreanLang"></button>
            <button data-lang-code="hi" data-lang-key="hindiLang"></button>
        </div>
    </div>
  </div>

  <div id="dailyRewardModal" class="modal-overlay">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('dailyRewardModal')">&times;</button>
      <h2 data-lang-key="dailyRewardsTitle"></h2>
      <p id="dailyRewardDesc"></p>
      <div id="daily-rewards-grid"></div>
      <p id="daily-reward-message" class="modal-message"></p>
    </div>
  </div>

  <div id="csPathModal" class="modal-overlay">
    <div class="modal-content">
        <button class="close-btn" onclick="closeModal('csPathModal')">&times;</button>
        <h2 data-lang-key="csPathTitle"></h2>
        <p data-lang-key="csPathDesc"></p>
        <div id="cs-path-progress-bar-container">
            <div id="cs-path-progress-bar"></div>
        </div>
        <div id="cs-path-xp-text">XP: 0 / 0</div>
        <div id="cs-path-rewards-list"></div>
    </div>
  </div>
  
  <div id="usernameModal" class="modal-overlay">
      <div class="modal-content">
          <h2 data-lang-key="welcomeTitle"></h2>
          <p data-lang-key="enterUsernamePrompt"></p>
          <div class="form-group">
              <input type="text" id="usernameInput" maxlength="20" placeholder="">
          </div>
          <div class="form-group">
              <button id="saveUsernameBtn" data-lang-key="saveUsernameBtn"></button>
          </div>
      </div>
  </div>

  <div id="adminPanelModal" class="modal-overlay">
      <div class="modal-content">
          <button class="close-btn" onclick="closeModal('adminPanelModal')">&times;</button>
          <h2 data-lang-key="adminPanelTitle"></h2>
          <div class="form-group">
              <label for="adminBalance" data-lang-key="adminAddBalance"></label>
              <input type="number" id="adminBalance" value="10000">
              <button onclick="adminAddBalance()" data-lang-key="adminAddBtn"></button>
          </div>
          <div class="form-group">
              <label for="adminXp" data-lang-key="adminAddXp"></label>
              <input type="number" id="adminXp" value="1000">
              <button onclick="adminAddXp()" data-lang-key="adminAddBtn"></button>
          </div>
          <div class="form-group">
              <label for="adminItem" data-lang-key="adminAddItem"></label>
              <select id="adminItem"></select>
              <button onclick="adminAddItem()" data-lang-key="adminAddBtn"></button>
          </div>
      </div>
  </div>

  <div id="collectionModal" class="modal-overlay">
      <div class="modal-content">
          <button class="close-btn" onclick="closeModal('collectionModal')">&times;</button>
          <h2 data-lang-key="collectionTitle"></h2>
          <p id="collection-progress" data-lang-key="collectionProgress"></p>
          <div id="collection-grid"></div>
      </div>
  </div>

  <div id="quick-access-buttons">
    <button class="quick-access-btn" onclick="openModal('boostShopModal')">
        <span class="quick-icon">
            <svg viewBox="0 0 24 24"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zM7.17 14.75l.1.17H16.8l2.92-5.04-1.55-.89L16.8 11H8.53L4.27 2H1v2h2l3.6 7.59L5.25 14c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25z"/></svg>
        </span>
    </button>
    <button class="quick-access-btn" onclick="openModal('inventoryModal')">
        <span class="quick-icon">
             <svg viewBox="0 0 24 24"><path d="M20 6h-3.18C16.3 4.24 14.36 3 12 3s-4.3 1.24-4.82 3H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm-8 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/></svg>
        </span>
    </button>
    <button class="quick-access-btn" onclick="openModal('achievementsModal')">
        <span class="quick-icon">
             <svg viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 21 12 17.77 5.82 21 7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
        </span>
    </button>
  </div>

  <script>
    const translations = {
        en: { lowBalanceSupport: "Low Balance Support! +$100 granted.", loading: "Loading...", menuBtn: "☰ Menu", gameTitle: "🎁 Case Opening Simulator MK", balance: "Balance:", caseCost: "Case Cost:", playerXP: "XP:", openCaseBtn: "Open Case", mainMenuTitle: "Main Menu", inventoryBtn: "Inventory", boostShopBtn: "Boost Shop", achievementsBtn: "Achievements", autoSellSettingsBtn: "Auto-Sell", autoOpenBtn: "Auto-Open", versionPatchesBtn: "Patches", languageBtn: "Language", resetGameBtn: "Reset", dailyRewardsBtn: "Daily", csPathBtn: "CS Path", inventoryTitle: "Your Inventory", allRarities: "All Rarities", commonRarity: "Common", rareRarity: "Rare", epicRarity: "Epic", legendaryRarity: "Legendary", exoticRarity: "Exotic", ancientRarity: "Ancient", immortalRarity: "Immortal", chromaRarity: "Chroma", allTypes: "All Types", itemType: "Items", boostType: "Boosts", filterBtn: "Filter", sellAllFilteredBtn: "Sell Filtered", noItemsMessage: "Your inventory is empty. Open a case and win items!", boostShopTitle: "Boost Shop", noBoostsMessage: "No boosts available for purchase at the moment.", achievementsTitle: "Achievements", noAchievementsMessage: "No achievements defined yet.", sellBtn: "Sell", favoriteBtn: "Favorite ⭐", unfavoriteBtn: "Unfavorite ⭐", closeBtn: "Close", autoSellSettingsTitle: "Auto-Sell Settings", autoSellDescription: "Items of selected rarities will be sold automatically upon opening.", saveSettingsBtn: "Save Settings", autoOpenTitle: "Auto-Open Case", startBtn: "Start", stopBtn: "Stop", casesOpened: "Cases Opened:", languageOptionsTitle: "Language Options", englishLang: "English", turkishLang: "Turkish", arabicLang: "العربية", germanLang: "Deutsch", spanishLang: "Español", azerbaijaniLang: "Azərbaycanca", russianLang: "Русский", japaneseLang: "日本語", koreanLang: "한국어", hindiLang: "हिन्दी", youWon: "You Won:", notEnoughBalance: "Insufficient balance! You need ${cost} to open a case.", autoSellStoppedBalance: "Insufficient balance! Auto-opening stopped.", itemSoldAuto: "(Auto-Sold)", itemSold: "{item} sold for ${price}!", itemNotFound: "ERROR: Item not found in inventory!", boostCannotBeSold: "Boost items cannot be sold!", cannotSellFavorite: "You cannot sell a favorite item! Unfavorite it first.", boostAlreadyOwned: "You already own this boost!", boostPurchased: "{boostName} successfully purchased! Boost active!", achievementCompleted: "ACHIEVEMENT UNLOCKED", achievementRewardBalance: "${amount} earned!", achievementRewardBoost: "You won the {boostName} boost and it's active!", achievementBoostAlreadyOwned: "You already own the {boostName} boost.", unknownBoostReward: "Unknown boost reward!", autoSellStatusOff: "Auto-sell is off.", autoSellStatusOn: "Auto-sell rarities: {rarities}", autoOpenMinAchievements: "You need to complete at least 5 achievements to use this feature. Currently {count} achievements completed.", autoOpenStopped: "Auto-opening stopped.", gameSavedError: "An error occurred while saving game data.", gameLoadedError: "An error occurred while loading saved game. A new game has started.", gameReset: "Game has been reset!", filteredItemsSold: "{count} items sold for ${value}!", noFilteredItemsToSell: "No filtered items to sell or all are favorites/boosts.", confirmResetGame: "Are you sure you want to reset all game data? This action cannot be undone!", favoriteAdded: "{item} added to favorites!", favoriteRemoved: "{item} has been removed from favorites!", itemLoadError: "Error: Item could not be loaded", dailyRewardsTitle: "Daily Rewards", dailyRewardDesc: "Log in every day to claim a special reward!", dailyRewardClaimed: "Reward for Day {day} claimed!", dailyRewardAlreadyClaimed: "Today's reward has already been claimed. Come back in:", dailyRewardNotReady: "Today's reward is not available yet.", day: "Day", claimBtn: "Claim", claimedBtn: "Claimed", csPathTitle: "CS Path", csPathDesc: "Earn XP by opening cases and claim rewards as you progress on the path!", tier: "Tier", xpUnit: "XP", reward: "Reward", csPathRewardClaimed: "Reward for Tier {tier} claimed!", dailyCaseLimitReached: "Daily case limit reached ({limit}). Come back tomorrow!", inProgressAchievement: "In Progress", sellLastBtn: "Sell Last Item", noSellableItem: "No sellable item in inventory!", mute: "Mute", unmute: "Unmute", collectionBtn: "Collection", welcomeTitle: "Welcome!", enterUsernamePrompt: "Please start by entering a username.", usernameInputPlaceholder: "Enter your name...", saveUsernameBtn: "Save and Start", adminPanelTitle: "Admin Panel", adminAddBalance: "Add Balance", adminAddXp: "Add XP", adminAddItem: "Add Item", adminAddBtn: "Add", collectionTitle: "Collection", collectionProgress: "Progress:", probabilityTitle: "Probability Table", probabilityDesc: "These are the current item drop rates, including your active boosts.", rarityHeader: "Rarity", chanceHeader: "Chance", globalAnnouncement: "Congratulations {username}, you won a {itemName}!", allItemsCollected: "Congratulations! You have collected all the items!", immortalFinder: "Immortal", immortalFinderDesc: "Obtain an immortal item.", richMan: "Rich Man", richManDesc: "Reach a balance of $1,000,000.", allBoosts: "Booster", allBoostsDesc: "Purchase all available boosts.", caseaholic: "Caseaholic", caseaholicDesc: "Open 500 cases.", elitePlayer: "Elite Player", elitePlayerDesc: "Reach a balance of $100,000.", godTier: "God Tier", godTierDesc: "Find a Chroma item.", xpCollector: "XP Collector", xpCollectorDesc: "Reach 10,000 XP.", luckEventActive: "LUCK EVENT ACTIVE! {multiplier}x drop rate for rare items and above!", luckEventEnds: "Luck event ends in:" },
        tr: { lowBalanceSupport: "Düşük Bakiye Desteği! +100$ eklendi.", loading: "Yükleniyor...", menuBtn: "☰ Menü", gameTitle: "🎁 Kasa Açma Simülasyonu MK", balance: "Bakiye:", caseCost: "Kasa Maliyeti:", playerXP: "XP:", openCaseBtn: "Kasayı Aç", mainMenuTitle: "Ana Menü", inventoryBtn: "Envanter", boostShopBtn: "Boost Mağazası", achievementsBtn: "Başarımlar", autoSellSettingsBtn: "Oto-Sat", autoOpenBtn: "Oto-Aç", versionPatchesBtn: "Yamalar", languageBtn: "Dil", resetGameBtn: "Sıfırla", dailyRewardsBtn: "Günlük", csPathBtn: "CS Yolu", inventoryTitle: "Envanterin", allRarities: "Tüm Nadirlikler", commonRarity: "Sıradan", rareRarity: "Nadir", epicRarity: "Destansı", legendaryRarity: "Efsanevi", exoticRarity: "Egzotik", ancientRarity: "Kadim", immortalRarity: "Ölümsüz", chromaRarity: "Kroma", allTypes: "Tüm Türler", itemType: "Eşyalar", boostType: "Boostlar", filterBtn: "Filtrele", sellAllFilteredBtn: "Filtrelenenleri Sat", noItemsMessage: "Envanterin boş. Bir kasa aç ve eşya kazan!", boostShopTitle: "Boost Mağazası", noBoostsMessage: "Şu anda satın alınabilecek boost yok.", achievementsTitle: "Başarımlar", noAchievementsMessage: "Henüz başarım tanımlanmamış.", sellBtn: "Sat", favoriteBtn: "Favorile ⭐", unfavoriteBtn: "Favoriden Çıkar ⭐", closeBtn: "Kapat", autoSellSettingsTitle: "Otomatik Sat Ayarları", autoSellDescription: "Açtığın eşyaların, seçtiğin nadirlikteki olanları otomatik olarak satılacaktır.", saveSettingsBtn: "Ayarları Kaydet", autoOpenTitle: "Otomatik Kasa Aç", startBtn: "Başlat", stopBtn: "Durdur", casesOpened: "Açılan Kasa:", languageOptionsTitle: "Dil Seçenekleri", englishLang: "English", turkishLang: "Türkçe", arabicLang: "العربية", germanLang: "Deutsch", spanishLang: "Español", azerbaijaniLang: "Azərbaycanca", russianLang: "Русский", japaneseLang: "日本語", koreanLang: "한국어", hindiLang: "हिन्दी", youWon: "Kazandın:", notEnoughBalance: "Yetersiz bakiye! Kasa açmak için {cost}$'a ihtiyacın var.", autoSellStoppedBalance: "Yetersiz bakiye! Otomatik kasa açma durduruldu.", itemSoldAuto: "(Otomatik Satıldı)", itemSold: "{item} {price}$ karşılığında satıldı!", itemNotFound: "HATA: Eşya envanterde bulunamadı!", boostCannotBeSold: "Boost eşyaları satılamaz!", cannotSellFavorite: "Favori bir eşyayı satamazsın! Önce favorilerden çıkar.", boostAlreadyOwned: "Bu boost'a zaten sahipsin!", boostPurchased: "{boostName} başarıyla satın alındı! Boost aktif!", achievementCompleted: "BAŞARIM AÇILDI", achievementRewardBalance: "{amount}$ kazandın!", achievementRewardBoost: "{boostName} boost'unu kazandın ve aktif edildi!", achievementBoostAlreadyOwned: "{boostName} boost'una zaten sahipsin.", unknownBoostReward: "Bilinmeyen bir boost ödülü!", autoSellStatusOff: "Otomatik satma kapalı.", autoSellStatusOn: "Otomatik satılacak nadirlikler: {rarities}", autoOpenMinAchievements: "Bu özelliği kullanmak için en az 5 başarım tamamlamalısın! Şu an {count} başarım tamamlandı.", autoOpenStopped: "Otomatik kasa açma durduruldu.", gameSavedError: "Oyun verileri kaydedilirken bir hata oluştu.", gameLoadedError: "Kayıtlı oyun yüklenirken hata oluştu. Yeni oyun başlatıldı.", gameReset: "Oyun sıfırlandı!", filteredItemsSold: "{count} eşya {value}$ karşılığında satıldı!", noFilteredItemsToSell: "Satılacak filtrelenmiş eşya bulunamadı veya hepsi favori/boost.", confirmResetGame: "Tüm oyun verilerini sıfırlamak istediğine emin misin? Bu işlem geri alınamaz!", favoriteAdded: "{item} favorilere eklendi!", favoriteRemoved: "{item} favorilerden çıkarıldı!", itemLoadError: "Hata: Eşya yüklenemedi", dailyRewardsTitle: "Günlük Ödüller", dailyRewardDesc: "Her gün giriş yaparak özel bir ödül kazan!", dailyRewardClaimed: "{day}. Gün ödülü alındı!", dailyRewardAlreadyClaimed: "Bugünün ödülü zaten alındı. Sonraki ödül için kalan süre:", dailyRewardNotReady: "Bugünün ödülü henüz hazır değil.", day: "Gün", claimBtn: "Al", claimedBtn: "Alındı", csPathTitle: "CS Yolu", csPathDesc: "Kasa açarak XP kazan ve yolda ilerleyerek ödülleri topla!", tier: "Kademe", xpUnit: "XP", reward: "Ödül", csPathRewardClaimed: "{tier}. Kademe ödülü alındı!", dailyCaseLimitReached: "Günlük kasa açma limitine ({limit}) ulaşıldı. Yarın tekrar gel!", inProgressAchievement: "Devam Ediyor", sellLastBtn: "Son Eşyayı Sat", noSellableItem: "Envanterde satılabilir eşya yok!", mute: "Sesi Kapat", unmute: "Sesi Aç", collectionBtn: "Koleksiyon", welcomeTitle: "Oyuna Hoş Geldin!", enterUsernamePrompt: "Lütfen bir kullanıcı adı girerek başla.", usernameInputPlaceholder: "Kullanıcı adını gir...", saveUsernameBtn: "Kaydet ve Başla", adminPanelTitle: "Admin Paneli", adminAddBalance: "Bakiye Ekle", adminAddXp: "XP Ekle", adminAddItem: "Eşya Ekle", adminAddBtn: "Ekle", collectionTitle: "Koleksiyon", collectionProgress: "İlerleme:", probabilityTitle: "Şans Tablosu", probabilityDesc: "Bunlar, mevcut boostlarınla birlikte güncel eşya düşürme oranlarıdır.", rarityHeader: "Nadirlik", chanceHeader: "Şans", globalAnnouncement: "Tebrikler {username}, bir {itemName} kazandı!", allItemsCollected: "Tebrikler! Tüm eşyaları topladın!", immortalFinder: "Ölümsüz", immortalFinderDesc: "Ölümsüz bir eşya elde et.", richMan: "Zengin", richManDesc: "1.000.000$ bakiyeye ulaş.", allBoosts: "Güçlendirici", allBoostsDesc: "Mevcut tüm boostları satın al.", caseaholic: "Kasakolik", caseaholicDesc: "500 kasa aç.", elitePlayer: "Elit Oyuncu", elitePlayerDesc: "100.000$ bakiyeye ulaş.", godTier: "Tanrı Katı", godTierDesc: "Bir Kroma eşyası bul.", xpCollector: "XP Koleksiyoncusu", xpCollectorDesc: "10.000 XP'ye ulaş.", luckEventActive: "ŞANS ETKİNLİĞİ AKTİF! Nadir ve üstü eşyalar için {multiplier}x düşme oranı!", luckEventEnds: "Şans etkinliğinin bitmesine:" },
        // Other languages filled with auto-translate
        ar: { lowBalanceSupport: "دعم الرصيد المنخفض! +100$ مُنحت.", loading: "جار التحميل...", menuBtn: "☰ القائمة", gameTitle: "🎁 محاكي فتح الصناديق MK", balance: "الرصيد:", caseCost: "تكلفة الصندوق:", playerXP: "الخبرة:", openCaseBtn: "افتح الصندوق", mainMenuTitle: "القائمة الرئيسية", inventoryBtn: "المخزون", boostShopBtn: "متجر التعزيزات", achievementsBtn: "الإنجازات", autoSellSettingsBtn: "البيع التلقائي", autoOpenBtn: "الفتح التلقائي", versionPatchesBtn: "التحديثات", languageBtn: "اللغة", resetGameBtn: "إعادة تعيين", dailyRewardsBtn: "اليومية", csPathBtn: "مسار CS", inventoryTitle: "مخزونك", allRarities: "كل الندرات", commonRarity: "شائع", rareRarity: "نادر", epicRarity: "ملحمي", legendaryRarity: "أسطوري", exoticRarity: "غريب", ancientRarity: "عتيق", immortalRarity: "خالد", chromaRarity: "كروما", allTypes: "كل الأنواع", itemType: "العناصر", boostType: "التعزيزات", filterBtn: "تصفية", sellAllFilteredBtn: "بيع المصفى", noItemsMessage: "مخزونك فارغ. افتح صندوقًا واربح عناصر!", boostShopTitle: "متجر التعزيزات", noBoostsMessage: "لا توجد تعزيزات متاحة للشراء حاليًا.", achievementsTitle: "الإنجازات", noAchievementsMessage: "لم يتم تحديد أي إنجازات بعد.", sellBtn: "بيع", favoriteBtn: "تفضيل ⭐", unfavoriteBtn: "إزالة من المفضلة ⭐", closeBtn: "إغلاق", autoSellSettingsTitle: "إعدادات البيع التلقائي", autoSellDescription: "سيتم بيع العناصر من الندرات المحددة تلقائيًا عند الفتح.", saveSettingsBtn: "حفظ الإعدادات", autoOpenTitle: "فتح تلقائي للصناديق", startBtn: "بدء", stopBtn: "إيقاف", casesOpened: "الصناديق المفتوحة:", languageOptionsTitle: "خيارات اللغة", englishLang: "English", turkishLang: "Türkçe", arabicLang: "العربية", germanLang: "Deutsch", spanishLang: "Español", azerbaijaniLang: "Azərbaycanca", russianLang: "Русский", japaneseLang: "日本語", koreanLang: "한국어", hindiLang: "हिन्दी", youWon: "لقد فزت:", notEnoughBalance: "رصيد غير كاف! تحتاج إلى {cost}$ لفتح صندوق.", autoSellStoppedBalance: "رصيد غير كاف! تم إيقاف الفتح التلقائي.", itemSoldAuto: "(تم البيع تلقائيًا)", itemSold: "تم بيع {item} مقابل {price}$!", itemNotFound: "خطأ: العنصر غير موجود في المخزون!", boostCannotBeSold: "لا يمكن بيع عناصر التعزيز!", cannotSellFavorite: "لا يمكنك بيع عنصر مفضل! قم بإزالته من المفضلة أولاً.", boostAlreadyOwned: "أنت تملك هذا التعزيز بالفعل!", boostPurchased: "تم شراء {boostName} بنجاح! التعزيز نشط!", achievementCompleted: "تم فتح الإنجاز", achievementRewardBalance: "ربحت {amount}$!", achievementRewardBoost: "لقد فزت بتعزيز {boostName} وهو نشط الآن!", achievementBoostAlreadyOwned: "أنت تملك تعزيز {boostName} بالفعل.", unknownBoostReward: "مكافأة تعزيز غير معروفة!", autoSellStatusOff: "البيع التلقائي متوقف.", autoSellStatusOn: "الندرات للبيع التلقائي: {rarities}", autoOpenMinAchievements: "تحتاج إلى إكمال 5 إنجازات على الأقل لاستخدام هذه الميزة. المكتمل حاليًا {count} إنجازات.", autoOpenStopped: "تم إيقاف الفتح التلقائي.", gameSavedError: "حدث خطأ أثناء حفظ بيانات اللعبة.", gameLoadedError: "حدث خطأ أثناء تحميل اللعبة المحفوظة. بدأت لعبة جديدة.", gameReset: "تمت إعادة تعيين اللعبة!", filteredItemsSold: "تم بيع {count} عناصر مقابل {value}$!", noFilteredItemsToSell: "لا توجد عناصر مصفاة للبيع أو كلها مفضلة/تعزيزات.", confirmResetGame: "هل أنت متأكد من أنك تريد إعادة تعيين جميع بيانات اللعبة؟ لا يمكن التراجع عن هذا الإجراء!", favoriteAdded: "تمت إضافة {item} إلى المفضلة!", favoriteRemoved: "لقد أزلت {item} من المفضلة!", itemLoadError: "خطأ: لم يتم تحميل العنصر", dailyRewardsTitle: "المكافآت اليومية", dailyRewardDesc: "سجل الدخول كل يوم للمطالبة بمكافأة خاصة!", dailyRewardClaimed: "تمت المطالبة بمكافأة اليوم {day}!", dailyRewardAlreadyClaimed: "تمت المطالبة بمكافأة اليوم بالفعل. عد بعد:", dailyRewardNotReady: "مكافأة اليوم غير متاحة بعد.", day: "يوم", claimBtn: "مطالبة", claimedBtn: "تمت المطالبة", csPathTitle: "مسار CS", csPathDesc: "اكسب نقاط الخبرة بفتح الصناديق واجمع المكافآت كلما تقدمت في المسار!", tier: "مستوى", xpUnit: "خبرة", reward: "مكافأة", csPathRewardClaimed: "تمت المطالبة بمكافأة المستوى {tier}!", dailyCaseLimitReached: "تم الوصول إلى حد الصناديق اليومي ({limit}). عد غدًا!", inProgressAchievement: "قيد التقدم", sellLastBtn: "بيع آخر عنصر", noSellableItem: "لا يوجد عنصر قابل للبيع في المخزون!", mute: "كتم", unmute: "إلغاء الكتم", collectionBtn: "المجموعة", welcomeTitle: "أهلاً بك!", enterUsernamePrompt: "يرجى البدء بإدخال اسم مستخدم.", usernameInputPlaceholder: "ادخل اسمك...", saveUsernameBtn: "حفظ وبدء", adminPanelTitle: "لوحة الإدارة", adminAddBalance: "إضافة رصيد", adminAddXp: "إضافة خبرة", adminAddItem: "إضافة عنصر", adminAddBtn: "إضافة", collectionTitle: "المجموعة", collectionProgress: "التقدم:", probabilityTitle: "جدول الاحتمالات", probabilityDesc: "هذه هي معدلات سقوط العناصر الحالية، بما في ذلك تعزيزاتك النشطة.", rarityHeader: "الندرة", chanceHeader: "الفرصة", globalAnnouncement: "تهانينا {username}، لقد فزت بـ {itemName}!", allItemsCollected: "تهانينا! لقد جمعت كل العناصر!", immortalFinder: "الخالد", immortalFinderDesc: "احصل على عنصر خالد.", richMan: "رجل غني", richManDesc: "صل إلى رصيد 1,000,000$.", allBoosts: "المُعزِّز", allBoostsDesc: "اشترِ كل التعزيزات المتاحة.", caseaholic: "مدمن الصناديق", caseaholicDesc: "افتح 500 صندوق.", elitePlayer: "لاعب النخبة", elitePlayerDesc: "صل إلى رصيد 100,000$.", godTier: "طبقة الإله", godTierDesc: "اعثر على عنصر كروما.", xpCollector: "جامع الخبرة", xpCollectorDesc: "صل إلى 10,000 خبرة.", luckEventActive: "حدث الحظ نشط! معدل إسقاط {multiplier}x للعناصر النادرة وما فوق!", luckEventEnds: "ينتهي حدث الحظ في:" },
        hi: { lowBalanceSupport: "कम बैलेंस सपोर्ट! +$100 दिए गए।", loading: "लोड हो रहा है...", menuBtn: "☰ मेन्यू", gameTitle: "🎁 केस ओपनिंग सिम्युलेटर MK", balance: "बैलेंस:", caseCost: "केस की लागत:", playerXP: "XP:", openCaseBtn: "केस खोलें", mainMenuTitle: "मुख्य मेन्यू", inventoryBtn: "इन्वेंटरी", boostShopBtn: "बूस्ट शॉप", achievementsBtn: "उपलब्धियां", autoSellSettingsBtn: "ऑटो-सेल", autoOpenBtn: "ऑटो-ओपन", versionPatchesBtn: "पैच", languageBtn: "भाषा", resetGameBtn: "रीसेट", dailyRewardsBtn: "दैनिक", csPathBtn: "CS पाथ", inventoryTitle: "आपकी इन्वेंटरी", allRarities: "सभी दुर्लभताएँ", commonRarity: "सामान्य", rareRarity: "दुर्लभ", epicRarity: "महाकाव्य", legendaryRarity: "पौराणिक", exoticRarity: "विदेशी", ancientRarity: "प्राचीन", immortalRarity: "अमर", chromaRarity: "क्रोमा", allTypes: "सभी प्रकार", itemType: "आइटम", boostType: "बूस्ट", filterBtn: "फ़िल्टर", sellAllFilteredBtn: "फ़िल्टर किए गए बेचें", noItemsMessage: "आपकी इन्वेंटरी खाली है। एक केस खोलें और आइटम जीतें!", boostShopTitle: "बूस्ट शॉप", noBoostsMessage: "इस समय खरीदने के लिए कोई बूस्ट उपलब्ध नहीं है।", achievementsTitle: "उपलब्धियां", noAchievementsMessage: "अभी तक कोई उपलब्धि परिभाषित नहीं है।", sellBtn: "बेचें", favoriteBtn: "पसंदीदा ⭐", unfavoriteBtn: "पसंदीदा से हटाएं ⭐", closeBtn: "बंद करें", autoSellSettingsTitle: "ऑटो-सेल सेटिंग्स", autoSellDescription: "चयनित दुर्लभताओं के आइटम खोलने पर स्वचालित रूप से बिक जाएंगे।", saveSettingsBtn: "सेटिंग्स सहेजें", autoOpenTitle: "ऑटो-ओपन केस", startBtn: "शुरू करें", stopBtn: "रोकें", casesOpened: "खोले गए केस:", languageOptionsTitle: "भाषा विकल्प", englishLang: "English", turkishLang: "Türkçe", arabicLang: "العربية", germanLang: "Deutsch", spanishLang: "Español", azerbaijaniLang: "Azərbaycanca", russianLang: "Русский", japaneseLang: "日本語", koreanLang: "한국어", hindiLang: "हिन्दी", youWon: "आप जीते:", notEnoughBalance: "अपर्याप्त बैलेंस! केस खोलने के लिए आपको ${cost} चाहिए।", autoSellStoppedBalance: "अपर्याप्त बैलेंस! ऑटो-ओपनिंग बंद हो गई।", itemSoldAuto: "(ऑटो-बिका)", itemSold: "{item} ${price} में बिका!", itemNotFound: "त्रुटि: इन्वेंटरी में आइटम नहीं मिला!", boostCannotBeSold: "बूस्ट आइटम बेचे नहीं जा सकते!", cannotSellFavorite: "आप पसंदीदा आइटम नहीं बेच सकते! पहले इसे पसंदीदा से हटाएं।", boostAlreadyOwned: "आपके पास यह बूस्ट पहले से है!", boostPurchased: "{boostName} सफलतापूर्वक खरीदा गया! बूस्ट सक्रिय है!", achievementCompleted: "उपलब्धि अनलॉक हुई", achievementRewardBalance: "${amount} कमाए!", achievementRewardBoost: "आपने {boostName} बूस्ट जीता और यह सक्रिय है!", achievementBoostAlreadyOwned: "आपके पास {boostName} बूस्ट पहले से है।", unknownBoostReward: "अज्ञात बूस्ट इनाम!", autoSellStatusOff: "ऑटो-सेल बंद है।", autoSellStatusOn: "ऑटो-सेल दुर्लभताएँ: {rarities}", autoOpenMinAchievements: "इस सुविधा का उपयोग करने के लिए आपको कम से कम 5 उपलब्धियों को पूरा करने की आवश्यकता है। वर्तमान में {count} उपलब्धियां पूरी हुई हैं।", autoOpenStopped: "ऑटो-ओपनिंग बंद हो गई।", gameSavedError: "गेम डेटा सहेजते समय एक त्रुटि हुई।", gameLoadedError: "सहेजे गए गेम को लोड करते समय एक त्रुटि हुई। एक नया गेम शुरू हो गया है।", gameReset: "गेम रीसेट कर दिया गया है!", filteredItemsSold: "{count} आइटम ${value} में बिके!", noFilteredItemsToSell: "बेचने के लिए कोई फ़िल्टर किया गया आइटम नहीं है या सभी पसंदीदा/बूस्ट हैं।", confirmResetGame: "क्या आप वाकई सभी गेम डेटा रीसेट करना चाहते हैं? यह क्रिया पूर्ववत नहीं की जा सकती!", favoriteAdded: "{item} पसंदीदा में जोड़ा गया!", favoriteRemoved: "{item} को पसंदीदा से हटा दिया गया है!", itemLoadError: "त्रुटि: आइटम लोड नहीं हो सका", dailyRewardsTitle: "दैनिक पुरस्कार", dailyRewardDesc: "एक विशेष पुरस्कार का दावा करने के लिए हर दिन लॉग इन करें!", dailyRewardClaimed: "दिन {day} के लिए पुरस्कार का दावा किया गया!", dailyRewardAlreadyClaimed: "आज का पुरस्कार पहले ही दावा किया जा चुका है। इसमें वापस आएं:", dailyRewardNotReady: "आज का पुरस्कार अभी तक उपलब्ध नहीं है।", day: "दिन", claimBtn: "दावा करें", claimedBtn: "दावा किया गया", csPathTitle: "CS पाथ", csPathDesc: "केस खोलकर XP कमाएं और जैसे ही आप रास्ते पर आगे बढ़ते हैं, पुरस्कारों का दावा करें!", tier: "स्तर", xpUnit: "XP", reward: "पुरस्कार", csPathRewardClaimed: "स्तर {tier} के लिए पुरस्कार का दावा किया गया!", dailyCaseLimitReached: "दैनिक केस सीमा ({limit}) तक पहुंच गई। कल वापस आएं!", inProgressAchievement: "प्रगति में है", sellLastBtn: "अंतिम आइटम बेचें", noSellableItem: "इन्वेंटरी में कोई बेचने योग्य आइटम नहीं है!", mute: "म्यूट", unmute: "अनम्यूट", collectionBtn: "संग्रह", welcomeTitle: "आपका स्वागत है!", enterUsernamePrompt: "कृपया एक उपयोगकर्ता नाम दर्ज करके शुरू करें।", usernameInputPlaceholder: "अपना नाम दर्ज करें...", saveUsernameBtn: "सहेजें और शुरू करें", adminPanelTitle: "एडमिन पैनल", adminAddBalance: "बैलेंस जोड़ें", adminAddXp: "XP जोड़ें", adminAddItem: "आइटम जोड़ें", adminAddBtn: "जोड़ें", collectionTitle: "संग्रह", collectionProgress: "प्रगति:", probabilityTitle: "संभावना तालिका", probabilityDesc: "ये आपके सक्रिय बूस्ट सहित वर्तमान आइटम ड्रॉप दरें हैं।", rarityHeader: "दुर्लभता", chanceHeader: "संभावना", globalAnnouncement: "बधाई हो {username}, आपने एक {itemName} जीता है!", allItemsCollected: "बधाई हो! आपने सभी आइटम एकत्र कर लिए हैं!", immortalFinder: "अमर", immortalFinderDesc: "एक अमर आइटम प्राप्त करें।", richMan: "अमीर आदमी", richManDesc: "$1,000,000 के बैलेंस तक पहुंचें।", allBoosts: "बूस्टर", allBoostsDesc: "सभी उपलब्ध बूस्ट खरीदें।", caseaholic: "केसाहोलिक", caseaholicDesc: "500 केस खोलें।", elitePlayer: "एलीट प्लेयर", elitePlayerDesc: "$100,000 के बैलेंस तक पहुंचें।", godTier: "गॉड टियर", godTierDesc: "एक क्रोमा आइटम ढूंढें।", xpCollector: "XP कलेक्टर", xpCollectorDesc: "10,000 XP तक पहुंचें।", luckEventActive: "लक इवेंट सक्रिय! दुर्लभ और उससे ऊपर की वस्तुओं के लिए {multiplier}x ड्रॉप रेट!", luckEventEnds: "लक इवेंट समाप्त होता है:" },
        // Other languages can be filled similarly
        de: { lowBalanceSupport: "Niedriges Guthaben-Unterstützung! +100$ gewährt.", loading: "Wird geladen...", menuBtn: "☰ Menü", gameTitle: "🎁 Case Opening Simulator MK", balance: "Guthaben:", caseCost: "Kistenkosten:", playerXP: "XP:", openCaseBtn: "Kiste öffnen", mainMenuTitle: "Hauptmenü", inventoryBtn: "Inventar", boostShopBtn: "Boost-Shop", achievementsBtn: "Erfolge", autoSellSettingsBtn: "Auto-Verkauf", autoOpenBtn: "Auto-Öffnen", versionPatchesBtn: "Patches", languageBtn: "Sprache", resetGameBtn: "Zurücksetzen", dailyRewardsBtn: "Täglich", csPathBtn: "CS-Pfad", inventoryTitle: "Dein Inventar", allRarities: "Alle Seltenheiten", commonRarity: "Gewöhnlich", rareRarity: "Selten", epicRarity: "Episch", legendaryRarity: "Legendär", exoticRarity: "Exotisch", ancientRarity: "Uralt", immortalRarity: "Unsterblich", chromaRarity: "Chroma", allTypes: "Alle Typen", itemType: "Gegenstände", boostType: "Boosts", filterBtn: "Filtern", sellAllFilteredBtn: "Gefilterte verkaufen", noItemsMessage: "Dein Inventar ist leer. Öffne eine Kiste und gewinne Gegenstände!", boostShopTitle: "Boost-Shop", noBoostsMessage: "Momentan sind keine Boosts zum Kauf verfügbar.", achievementsTitle: "Erfolge", noAchievementsMessage: "Noch keine Erfolge definiert.", sellBtn: "Verkaufen", favoriteBtn: "Favorisieren ⭐", unfavoriteBtn: "Entfavorisieren ⭐", closeBtn: "Schließen", autoSellSettingsTitle: "Auto-Verkauf-Einstellungen", autoSellDescription: "Gegenstände der ausgewählten Seltenheiten werden beim Öffnen automatisch verkauft.", saveSettingsBtn: "Einstellungen speichern", autoOpenTitle: "Automatisches Kistenöffnen", startBtn: "Start", stopBtn: "Stopp", casesOpened: "Geöffnete Kisten:", languageOptionsTitle: "Sprachoptionen", englishLang: "English", turkishLang: "Türkisch", arabicLang: "العربية", germanLang: "Deutsch", spanishLang: "Español", azerbaijaniLang: "Azərbaycanca", russianLang: "Русский", japaneseLang: "日本語", koreanLang: "한국어", hindiLang: "हिन्दी", youWon: "Du hast gewonnen:", notEnoughBalance: "Unzureichendes Guthaben! Du benötigst {cost}$, um eine Kiste zu öffnen.", autoSellStoppedBalance: "Unzureichendes Guthaben! Automatisches Öffnen gestoppt.", itemSoldAuto: "(Auto-Verkauft)", itemSold: "{item} für {price}$ verkauft!", itemNotFound: "FEHLER: Gegenstand nicht im Inventar gefunden!", boostCannotBeSold: "Boost-Gegenstände können nicht verkauft werden!", cannotSellFavorite: "Du kannst keinen favorisierten Gegenstand verkaufen! Entferne ihn zuerst aus den Favoriten.", boostAlreadyOwned: "Du besitzt diesen Boost bereits!", boostPurchased: "{boostName} erfolgreich gekauft! Boost aktiv!", achievementCompleted: "ERFOLG FREIGESCHALTET", achievementRewardBalance: "{amount}$ verdient!", achievementRewardBoost: "Du hast den {boostName}-Boost gewonnen und er ist aktiv!", achievementBoostAlreadyOwned: "Du besitzt den {boostName}-Boost bereits.", unknownBoostReward: "Unbekannte Boost-Belohnung!", autoSellStatusOff: "Auto-Verkauf ist aus.", autoSellStatusOn: "Auto-Verkauf Seltenheiten: {rarities}", autoOpenMinAchievements: "Du musst mindestens 5 Erfolge abschließen, um diese Funktion zu nutzen. Derzeit {count} Erfolge abgeschlossen.", autoOpenStopped: "Automatisches Kistenöffnen gestoppt.", gameSavedError: "Beim Speichern der Spieldaten ist ein Fehler aufgetreten.", gameLoadedError: "Beim Laden des gespeicherten Spiels ist ein Fehler aufgetreten. Ein neues Spiel wurde gestartet.", gameReset: "Das Spiel wurde zurückgesetzt!", filteredItemsSold: "{count} Gegenstände für {value}$ verkauft!", noFilteredItemsToSell: "Keine gefilterten Gegenstände zum Verkaufen oder alle sind favorisiert/Boosts.", confirmResetGame: "Bist du sicher, dass du alle Spieldaten zurücksetzen möchtest? Diese Aktion kann nicht rückgängig gemacht werden!", favoriteAdded: "{item} zu Favoriten hinzugefügt!", favoriteRemoved: "{item} aus Favoriten entfernt!", itemLoadError: "Fehler: Gegenstand konnte nicht geladen werden", dailyRewardsTitle: "Tägliche Belohnungen", dailyRewardDesc: "Melde dich jeden Tag an, um eine besondere Belohnung zu erhalten!", dailyRewardClaimed: "Belohnung für Tag {day} erhalten!", dailyRewardAlreadyClaimed: "Die heutige Belohnung wurde bereits abgeholt. Komm zurück in:", dailyRewardNotReady: "Die heutige Belohnung ist noch nicht verfügbar.", day: "Tag", claimBtn: "Abholen", claimedBtn: "Abgeholt", csPathTitle: "CS-Pfad", csPathDesc: "Verdiene XP durch das Öffnen von Kisten und sammle Belohnungen auf dem Pfad!", tier: "Stufe", xpUnit: "XP", reward: "Belohnung", csPathRewardClaimed: "Belohnung für Stufe {tier} erhalten!", dailyCaseLimitReached: "Tägliches Kistenlimit erreicht ({limit}). Komm morgen wieder!", inProgressAchievement: "In Arbeit", sellLastBtn: "Letzten Gegenstand verkaufen", noSellableItem: "Kein verkaufbarer Gegenstand im Inventar!", mute: "Stumm", unmute: "Ton an", collectionBtn: "Sammlung", welcomeTitle: "Willkommen!", enterUsernamePrompt: "Bitte beginne, indem du einen Benutzernamen eingibst.", usernameInputPlaceholder: "Gib deinen Namen ein...", saveUsernameBtn: "Speichern und starten", adminPanelTitle: "Admin-Panel", adminAddBalance: "Guthaben hinzufügen", adminAddXp: "XP hinzufügen", adminAddItem: "Gegenstand hinzufügen", adminAddBtn: "Hinzufügen", collectionTitle: "Sammlung", collectionProgress: "Fortschritt:", probabilityTitle: "Wahrscheinlichkeitstabelle", probabilityDesc: "Dies sind die aktuellen Dropraten, einschließlich deiner aktiven Boosts.", rarityHeader: "Seltenheit", chanceHeader: "Chance", globalAnnouncement: "Herzlichen Glückwunsch {username}, du hast ein {itemName} gewonnen!", allItemsCollected: "Herzlichen Glückwunsch! Du hast alle Gegenstände gesammelt!", immortalFinder: "Unsterblich", immortalFinderDesc: "Erhalte einen unsterblichen Gegenstand.", richMan: "Reicher Mann", richManDesc: "Erreiche ein Guthaben von 1.000.000$.", allBoosts: "Booster", allBoostsDesc: "Kaufe alle verfügbaren Boosts.", caseaholic: "Kistensüchtig", caseaholicDesc: "Öffne 500 Kisten.", elitePlayer: "Elite-Spieler", elitePlayerDesc: "Erreiche ein Guthaben von 100.000$.", godTier: "Gott-Stufe", godTierDesc: "Finde einen Chroma-Gegenstand.", xpCollector: "XP-Sammler", xpCollectorDesc: "Erreiche 10.000 XP.", luckEventActive: "GLÜCKSEVENT AKTIV! {multiplier}x Droprate für seltene Gegenstände und höher!", luckEventEnds: "Glücksevent endet in:" },
        es: { lowBalanceSupport: "¡Soporte por saldo bajo! +100$ otorgados.", loading: "Cargando...", menuBtn: "☰ Menú", gameTitle: "🎁 Simulador de Apertura de Cajas MK", balance: "Saldo:", caseCost: "Costo de Caja:", playerXP: "XP:", openCaseBtn: "Abrir Caja", mainMenuTitle: "Menú Principal", inventoryBtn: "Inventario", boostShopBtn: "Tienda de Boosts", achievementsBtn: "Logros", autoSellSettingsBtn: "Autoventa", autoOpenBtn: "Autoabrir", versionPatchesBtn: "Parches", languageBtn: "Idioma", resetGameBtn: "Reiniciar", dailyRewardsBtn: "Diario", csPathBtn: "Ruta CS", inventoryTitle: "Tu Inventario", allRarities: "Todas las Rarezas", commonRarity: "Común", rareRarity: "Raro", epicRarity: "Épico", legendaryRarity: "Legendario", exoticRarity: "Exótico", ancientRarity: "Antiguo", immortalRarity: "Inmortal", chromaRarity: "Chroma", allTypes: "Todos los Tipos", itemType: "Objetos", boostType: "Boosts", filterBtn: "Filtrar", sellAllFilteredBtn: "Vender Filtrados", noItemsMessage: "Tu inventario está vacío. ¡Abre una caja y gana objetos!", boostShopTitle: "Tienda de Boosts", noBoostsMessage: "No hay boosts disponibles para comprar en este momento.", achievementsTitle: "Logros", noAchievementsMessage: "Aún no se han definido logros.", sellBtn: "Vender", favoriteBtn: "Favorito ⭐", unfavoriteBtn: "Quitar Favorito ⭐", closeBtn: "Cerrar", autoSellSettingsTitle: "Configuración de Autoventa", autoSellDescription: "Los objetos de las rarezas seleccionadas se venderán automáticamente al abrirlos.", saveSettingsBtn: "Guardar Ajustes", autoOpenTitle: "Apertura Automática de Cajas", startBtn: "Iniciar", stopBtn: "Detener", casesOpened: "Cajas Abiertas:", languageOptionsTitle: "Opciones de Idioma", englishLang: "English", turkishLang: "Türkçe", arabicLang: "العربية", germanLang: "Deutsch", spanishLang: "Español", azerbaijaniLang: "Azərbaycanca", russianLang: "Русский", japaneseLang: "日本語", koreanLang: "한국어", hindiLang: "हिन्दी", youWon: "Ganaste:", notEnoughBalance: "¡Saldo insuficiente! Necesitas {cost}$ para abrir una caja.", autoSellStoppedBalance: "¡Saldo insuficiente! Se detuvo la apertura automática.", itemSoldAuto: "(Vendido Automáticamente)", itemSold: "¡{item} vendido por {price}$!", itemNotFound: "ERROR: ¡Objeto no encontrado en el inventario!", boostCannotBeSold: "¡Los boosts no se pueden vender!", cannotSellFavorite: "¡No puedes vender un objeto favorito! Quítalo de favoritos primero.", boostAlreadyOwned: "¡Ya posees este boost!", boostPurchased: "¡{boostName} comprado con éxito! ¡Boost activo!", achievementCompleted: "LOGRO DESBLOQUEADO", achievementRewardBalance: "¡Ganaste {amount}$!", achievementRewardBoost: "¡Ganaste el boost {boostName} y está activo!", achievementBoostAlreadyOwned: "Ya posees el boost {boostName}.", unknownBoostReward: "¡Recompensa de boost desconocida!", autoSellStatusOff: "La autoventa está desactivada.", autoSellStatusOn: "Rarezas de autoventa: {rarities}", autoOpenMinAchievements: "Necesitas completar al menos 5 logros para usar esta función. Actualmente tienes {count} logros completados.", autoOpenStopped: "Se detuvo la apertura automática de cajas.", gameSavedError: "Ocurrió un error al guardar los datos del juego.", gameLoadedError: "Ocurrió un error al cargar el juego guardado. Se ha iniciado un nuevo juego.", gameReset: "¡El juego ha sido reiniciado!", filteredItemsSold: "¡{count} objetos vendidos por {value}$!", noFilteredItemsToSell: "No hay objetos filtrados para vender o todos son favoritos/boosts.", confirmResetGame: "¿Estás seguro de que quieres reiniciar todos los datos del juego? ¡Esta acción no se puede deshacer!", favoriteAdded: "¡{item} añadido a favoritos!", favoriteRemoved: "¡Has eliminado {item} de tus favoritos!", itemLoadError: "Error: No se pudo cargar el objeto", dailyRewardsTitle: "Recompensas Diarias", dailyRewardDesc: "¡Inicia sesión todos los días para reclamar una recompensa especial!", dailyRewardClaimed: "¡Recompensa del día {day} reclamada!", dailyRewardAlreadyClaimed: "La recompensa de hoy ya ha sido reclamada. Vuelve en:", dailyRewardNotReady: "La recompensa de hoy aún no está disponible.", day: "Día", claimBtn: "Reclamar", claimedBtn: "Reclamado", csPathTitle: "Ruta CS", csPathDesc: "¡Gana XP abriendo cajas y reclama recompensas a medida que avanzas en la ruta!", tier: "Nivel", xpUnit: "XP", reward: "Recompensa", csPathRewardClaimed: "¡Recompensa del nivel {tier} reclamada!", dailyCaseLimitReached: "Límite diario de cajas alcanzado ({limit}). ¡Vuelve mañana!", inProgressAchievement: "En Progreso", sellLastBtn: "Vender Último Objeto", noSellableItem: "¡No hay objetos vendibles en el inventario!", mute: "Silenciar", unmute: "Activar Sonido", collectionBtn: "Colección", welcomeTitle: "¡Bienvenido!", enterUsernamePrompt: "Por favor, empieza introduciendo un nombre de usuario.", usernameInputPlaceholder: "Introduce tu nombre...", saveUsernameBtn: "Guardar y Empezar", adminPanelTitle: "Panel de Admin", adminAddBalance: "Añadir Saldo", adminAddXp: "Añadir XP", adminAddItem: "Añadir Objeto", adminAddBtn: "Añadir", collectionTitle: "Colección", collectionProgress: "Progreso:", probabilityTitle: "Tabla de Probabilidades", probabilityDesc: "Estas son las tasas de aparición de objetos actuales, incluyendo tus boosts activos.", rarityHeader: "Rareza", chanceHeader: "Probabilidad", globalAnnouncement: "¡Felicidades {username}, has ganado un {itemName}!", allItemsCollected: "¡Felicidades! ¡Has coleccionado todos los objetos!", immortalFinder: "Inmortal", immortalFinderDesc: "Obtén un objeto inmortal.", richMan: "Hombre Rico", richManDesc: "Alcanza un saldo de 1,000,000$.", allBoosts: "Potenciador", allBoostsDesc: "Compra todos los boosts disponibles.", caseaholic: "Adicto a las Cajas", caseaholicDesc: "Abre 500 cajas.", elitePlayer: "Jugador de Élite", elitePlayerDesc: "Alcanza un saldo de 100,000$.", godTier: "Nivel Dios", godTierDesc: "Encuentra un objeto Chroma.", xpCollector: "Coleccionista de XP", xpCollectorDesc: "Alcanza 10,000 XP.", luckEventActive: "¡EVENTO DE SUERTE ACTIVO! ¡Tasa de caída de {multiplier}x para objetos raros y superiores!", luckEventEnds: "El evento de suerte termina en:" },
        az: { lowBalanceSupport: "Aşağı Balans Dəstəyi! +100$ əlavə edildi.", loading: "Yüklənir...", menuBtn: "☰ Menyu", gameTitle: "🎁 Qutu Açma Simulyatoru MK", balance: "Balans:", caseCost: "Qutu Qiyməti:", playerXP: "XP:", openCaseBtn: "Qutunu Aç", mainMenuTitle: "Əsas Menyu", inventoryBtn: "İnventar", boostShopBtn: "Gücləndirici Mağazası", achievementsBtn: "Nailiyyətlər", autoSellSettingsBtn: "Avto-Satış", autoOpenBtn: "Avto-Aç", versionPatchesBtn: "Yeniləmələr", languageBtn: "Dil", resetGameBtn: "Sıfırla", dailyRewardsBtn: "Gündəlik", csPathBtn: "CS Yolu", inventoryTitle: "Sənin İnventarın", allRarities: "Bütün Nadirliklər", commonRarity: "Adi", rareRarity: "Nadir", epicRarity: "Epik", legendaryRarity: "Əfsanəvi", exoticRarity: "Ekzotik", ancientRarity: "Qədim", immortalRarity: "Ölümsüz", chromaRarity: "Kroma", allTypes: "Bütün Növlər", itemType: "Əşyalar", boostType: "Gücləndiricilər", filterBtn: "Filtrlə", sellAllFilteredBtn: "Filtrlənənləri Sat", noItemsMessage: "İnventarınız boşdur. Qutu açın və əşyalar qazanın!", boostShopTitle: "Gücləndirici Mağazası", noBoostsMessage: "Hazırda alınacaq gücləndirici yoxdur.", achievementsTitle: "Nailiyyətlər", noAchievementsMessage: "Hələ nailiyyət təyin edilməyib.", sellBtn: "Sat", favoriteBtn: "Sevimlilərə əlavə et ⭐", unfavoriteBtn: "Sevimlilərdən çıxar ⭐", closeBtn: "Bağla", autoSellSettingsTitle: "Avtomatik Satış Ayarları", autoSellDescription: "Seçdiyiniz nadirlikdəki əşyalar açıldıqda avtomatik olaraq satılacaq.", saveSettingsBtn: "Ayarları Saxla", autoOpenTitle: "Avtomatik Qutu Açma", startBtn: "Başla", stopBtn: "Dayandır", casesOpened: "Açılan Qutu:", languageOptionsTitle: "Dil Seçimləri", englishLang: "English", turkishLang: "Türkçe", arabicLang: "العربية", germanLang: "Deutsch", spanishLang: "Español", azerbaijaniLang: "Azərbaycanca", russianLang: "Русский", japaneseLang: "日本語", koreanLang: "한국어", hindiLang: "हिन्दी", youWon: "Qazandınız:", notEnoughBalance: "Balans kifayət deyil! Qutu açmaq üçün {cost}$ lazımdır.", autoSellStoppedBalance: "Balans kifayət deyil! Avtomatik qutu açma dayandırıldı.", itemSoldAuto: "(Avtomatik Satıldı)", itemSold: "{item} {price}$ qarşılığında satıldı!", itemNotFound: "XƏTA: Əşya inventarda tapılmadı!", boostCannotBeSold: "Gücləndirici əşyaları satıla bilməz!", cannotSellFavorite: "Sevimli bir əşyanı sata bilməzsən! Əvvəlcə sevimlilərdən çıxar.", boostAlreadyOwned: "Bu gücləndiriciyə onsuz da sahibsiniz!", boostPurchased: "{boostName} uğurla alındı! Gücləndirici aktivdir!", achievementCompleted: "NAİLİYYƏT AÇILDI", achievementRewardBalance: "{amount}$ qazandınız!", achievementRewardBoost: "{boostName} gücləndiricisini qazandınız və o, aktiv edildi!", achievementBoostAlreadyOwned: "{boostName} gücləndiricisinə onsuz da sahibsiniz.", unknownBoostReward: "Naməlum gücləndirici mükafatı!", autoSellStatusOff: "Avtomatik satış bağlıdır.", autoSellStatusOn: "Avtomatik satılacaq nadirliklər: {rarities}", autoOpenMinAchievements: "Bu xüsusiyyəti istifadə etmək üçün ən az 5 nailiyyət tamamlamalısınız. Hazırda {count} nailiyyət tamamlanıb.", autoOpenStopped: "Avtomatik qutu açma dayandırıldı.", gameSavedError: "Oyun məlumatları yadda saxlanılarkən xəta baş verdi.", gameLoadedError: "Yadda saxlanılmış oyun yüklənərkən xəta baş verdi. Yeni oyun başladıldı.", gameReset: "Oyun sıfırlandı!", filteredItemsSold: "{count} əşya {value}$ qarşılığında satıldı!", noFilteredItemsToSell: "Satılacaq filtrlənmiş əşya tapılmadı və ya hamısı sevimlidir/gücləndiricidir.", confirmResetGame: "Bütün oyun məlumatlarını sıfırlamaq istədiyinizə əminsiniz? Bu əməliyyat geri alına bilməz!", favoriteAdded: "{item} sevimlilərə əlavə edildi!", favoriteRemoved: "{item} sevimlilərdən çıxarıldı!", itemLoadError: "Xəta: Əşya yüklənə bilmədi", dailyRewardsTitle: "Gündəlik Mükafatlar", dailyRewardDesc: "Xüsusi bir mükafat qazanmaq üçün hər gün daxil olun!", dailyRewardClaimed: "{day}-ci günün mükafatı alındı!", dailyRewardAlreadyClaimed: "Bugünkü mükafat artıq alınıb. Geri qayıdın:", dailyRewardNotReady: "Bugünkü mükafat hələ hazır deyil.", day: "Gün", claimBtn: "Al", claimedBtn: "Alındı", csPathTitle: "CS Yolu", csPathDesc: "Qutuları açaraq XP qazanın və yolda irəliləyərək mükafatları toplayın!", tier: "Səviyyə", xpUnit: "XP", reward: "Mükafat", csPathRewardClaimed: "{tier}-ci Səviyyə mükafatı alındı!", dailyCaseLimitReached: "Gündəlik qutu açma limitinə ({limit}) çatdınız. Sabah yenidən gəlin!", inProgressAchievement: "Davam edir", sellLastBtn: "Son Əşyanı Sat", noSellableItem: "İnventarda satıla bilən əşya yoxdur!", mute: "Səsi Bağla", unmute: "Səsi Aç", collectionBtn: "Kolleksiya", welcomeTitle: "Xoş Gəlmisiniz!", enterUsernamePrompt: "Zəhmət olmasa, bir istifadəçi adı daxil edərək başlayın.", usernameInputPlaceholder: "Adınızı daxil edin...", saveUsernameBtn: "Yadda Saxla və Başla", adminPanelTitle: "Admin Paneli", adminAddBalance: "Balans Əlavə Et", adminAddXp: "XP Əlavə Et", adminAddItem: "Əşya Əlavə Et", adminAddBtn: "Əlavə et", collectionTitle: "Kolleksiya", collectionProgress: "Tərəqqi:", probabilityTitle: "Ehtimal Cədvəli", probabilityDesc: "Bunlar, aktiv gücləndiriciləriniz daxil olmaqla, mövcud əşya düşmə nisbətləridir.", rarityHeader: "Nadirlik", chanceHeader: "Şans", globalAnnouncement: "Təbriklər {username}, bir {itemName} qazandın!", allItemsCollected: "Təbriklər! Bütün əşyaları topladın!", immortalFinder: "Ölümsüz", immortalFinderDesc: "Ölümsüz bir əşya əldə et.", richMan: "Varlı", richManDesc: "1,000,000$ balansa çat.", allBoosts: "Gücləndirici", allBoostsDesc: "Bütün mövcud gücləndiriciləri al.", caseaholic: "Qutu Asılısı", caseaholicDesc: "500 qutu aç.", elitePlayer: "Elit Oyunçu", elitePlayerDesc: "100,000$ balansa çat.", godTier: "Tanrı Səviyyəsi", godTierDesc: "Bir Kroma əşyası tapın.", xpCollector: "XP Toplayıcısı", xpCollectorDesc: "10,000 XP-yə çatın.", luckEventActive: "ŞANS TƏDBİRİ AKTİVDİR! Nadir və yuxarı əşyalar üçün {multiplier}x düşmə dərəcəsi!", luckEventEnds: "Şans tədbiri sona çatır:" },
        ru: { lowBalanceSupport: "Поддержка при низком балансе! +100$ начислено.", loading: "Загрузка...", menuBtn: "☰ Меню", gameTitle: "🎁 Симулятор открытия кейсов MK", balance: "Баланс:", caseCost: "Стоимость кейса:", playerXP: "Опыт:", openCaseBtn: "Открыть кейс", mainMenuTitle: "Главное меню", inventoryBtn: "Инвентарь", boostShopBtn: "Магазин бустов", achievementsBtn: "Достижения", autoSellSettingsBtn: "Автопродажа", autoOpenBtn: "Авто-открытие", versionPatchesBtn: "Патчи", languageBtn: "Язык", resetGameBtn: "Сброс", dailyRewardsBtn: "Ежедневно", csPathBtn: "Путь CS", inventoryTitle: "Ваш инвентарь", allRarities: "Все редкости", commonRarity: "Обычный", rareRarity: "Редкий", epicRarity: "Эпический", legendaryRarity: "Легендарный", exoticRarity: "Экзотический", ancientRarity: "Древний", immortalRarity: "Бессмертный", chromaRarity: "Хрома", allTypes: "Все типы", itemType: "Предметы", boostType: "Бусты", filterBtn: "Фильтр", sellAllFilteredBtn: "Продать отфильтрованное", noItemsMessage: "Ваш инвентарь пуст. Откройте кейс и выигрывайте предметы!", boostShopTitle: "Магазин бустов", noBoostsMessage: "На данный момент нет доступных для покупки бустов.", achievementsTitle: "Достижения", noAchievementsMessage: "Достижения еще не определены.", sellBtn: "Продать", favoriteBtn: "В избранное ⭐", unfavoriteBtn: "Убрать из избранного ⭐", closeBtn: "Закрыть", autoSellSettingsTitle: "Настройки автопродажи", autoSellDescription: "Предметы выбранных редкостей будут автоматически продаваться при открытии.", saveSettingsBtn: "Сохранить", autoOpenTitle: "Автоматическое открытие кейсов", startBtn: "Старт", stopBtn: "Стоп", casesOpened: "Открыто кейсов:", languageOptionsTitle: "Выбор языка", englishLang: "English", turkishLang: "Türkçe", arabicLang: "العربية", germanLang: "Deutsch", spanishLang: "Español", azerbaijaniLang: "Azərbaycanca", russianLang: "Русский", japaneseLang: "日本語", koreanLang: "한국어", hindiLang: "हिन्दी", youWon: "Вы выиграли:", notEnoughBalance: "Недостаточно средств! Вам нужно {cost}$ для открытия кейса.", autoSellStoppedBalance: "Недостаточно средств! Авто-открытие остановлено.", itemSoldAuto: "(Автопродажа)", itemSold: "{item} продан за {price}$!", itemNotFound: "ОШИБКА: Предмет не найден в инвентаре!", boostCannotBeSold: "Бусты не могут быть проданы!", cannotSellFavorite: "Вы не можете продать избранный предмет! Сначала уберите его из избранного.", boostAlreadyOwned: "У вас уже есть этот буст!", boostPurchased: "{boostName} успешно куплен! Буст активен!", achievementCompleted: "ДОСТИЖЕНИЕ РАЗБЛОКИРОВАНО", achievementRewardBalance: "Вы заработали {amount}$!", achievementRewardBoost: "Вы выиграли буст {boostName}, и он активен!", achievementBoostAlreadyOwned: "У вас уже есть буст {boostName}.", unknownBoostReward: "Неизвестная награда за буст!", autoSellStatusOff: "Автопродажа выключена.", autoSellStatusOn: "Редкости для автопродажи: {rarities}", autoOpenMinAchievements: "Вам нужно выполнить не менее 5 достижений для использования этой функции. Сейчас выполнено {count} достижений.", autoOpenStopped: "Авто-открытие кейсов остановлено.", gameSavedError: "Произошла ошибка при сохранении данных игры.", gameLoadedError: "Произошла ошибка при загрузке сохраненной игры. Начата новая игра.", gameReset: "Игра была сброшена!", filteredItemsSold: "{count} предметов продано за {value}$!", noFilteredItemsToSell: "Нет отфильтрованных предметов для продажи или все они в избранном/бусты.", confirmResetGame: "Вы уверены, что хотите сбросить все данные игры? Это действие нельзя отменить!", favoriteAdded: "{item} добавлен в избранное!", favoriteRemoved: "{item} удален из избранного!", itemLoadError: "Ошибка: Предмет не удалось загрузить", dailyRewardsTitle: "Ежедневные награды", dailyRewardDesc: "Заходите каждый день, чтобы получить особую награду!", dailyRewardClaimed: "Награда за день {day} получена!", dailyRewardAlreadyClaimed: "Сегодняшняя награда уже получена. Возвращайтесь через:", dailyRewardNotReady: "Сегодняшняя награда еще не доступна.", day: "День", claimBtn: "Получить", claimedBtn: "Получено", csPathTitle: "Путь CS", csPathDesc: "Зарабатывайте опыт, открывая кейсы, и получайте награды по мере продвижения по пути!", tier: "Уровень", xpUnit: "ОПЫТ", reward: "Награда", csPathRewardClaimed: "Награда за уровень {tier} получена!", dailyCaseLimitReached: "Достигнут дневной лимит открытия кейсов ({limit}). Возвращайтесь завтра!", inProgressAchievement: "В процессе", sellLastBtn: "Продать последний предмет", noSellableItem: "Нет продаваемых предметов в инвентаре!", mute: "Выкл. звук", unmute: "Вкл. звук", collectionBtn: "Коллекция", welcomeTitle: "Добро пожаловать!", enterUsernamePrompt: "Пожалуйста, начните с ввода имени пользователя.", usernameInputPlaceholder: "Введите ваше имя...", saveUsernameBtn: "Сохранить и начать", adminPanelTitle: "Админ-панель", adminAddBalance: "Добавить баланс", adminAddXp: "Добавить опыт", adminAddItem: "Добавить предмет", adminAddBtn: "Добавить", collectionTitle: "Коллекция", collectionProgress: "Прогресс:", probabilityTitle: "Таблица шансов", probabilityDesc: "Это текущие шансы выпадения предметов, включая ваши активные бусты.", rarityHeader: "Редкость", chanceHeader: "Шанс", globalAnnouncement: "Поздравляем {username}, вы выиграли {itemName}!", allItemsCollected: "Поздравляем! Вы собрали все предметы!", immortalFinder: "Бессмертный", immortalFinderDesc: "Получите бессмертный предмет.", richMan: "Богач", richManDesc: "Достигните баланса в 1,000,000$.", allBoosts: "Усилитель", allBoostsDesc: "Купите все доступные бусты.", caseaholic: "Кейсоголик", caseaholicDesc: "Откройте 500 кейсов.", elitePlayer: "Элитный игрок", elitePlayerDesc: "Достигните баланса в 100,000$.", godTier: "Уровень бога", godTierDesc: "Найдите предмет Хрома.", xpCollector: "Коллекционер опыта", xpCollectorDesc: "Достигните 10 000 опыта.", luckEventActive: "АКТИВНО СОБЫТИЕ УДАЧИ! {multiplier}x шанс выпадения для редких предметов и выше!", luckEventEnds: "Событие удачи закончится через:" },
        ja: { lowBalanceSupport: "低残高サポート！+$100が付与されました。", loading: "ロード中...", menuBtn: "☰ メニュー", gameTitle: "🎁 ケース開封シミュレーターMK", balance: "残高:", caseCost: "ケース費用:", playerXP: "XP:", openCaseBtn: "ケースを開ける", mainMenuTitle: "メインメニュー", inventoryBtn: "インベントリ", boostShopBtn: "ブーストショップ", achievementsBtn: "実績", autoSellSettingsBtn: "自動売却", autoOpenBtn: "自動開封", versionPatchesBtn: "パッチ", languageBtn: "言語", resetGameBtn: "リセット", dailyRewardsBtn: "デイリー", csPathBtn: "CSパス", inventoryTitle: "あなたのインベントリ", allRarities: "すべてのレア度", commonRarity: "コモン", rareRarity: "レア", epicRarity: "エピック", legendaryRarity: "レジェンダリー", exoticRarity: "エキゾチック", ancientRarity: "エンシェント", immortalRarity: "イモータル", chromaRarity: "クロマ", allTypes: "すべてのタイプ", itemType: "アイテム", boostType: "ブースト", filterBtn: "フィルター", sellAllFilteredBtn: "フィルター済みを売却", noItemsMessage: "インベントリは空です。ケースを開けてアイテムを獲得しましょう！", boostShopTitle: "ブーストショップ", noBoostsMessage: "現在購入可能なブーストはありません。", achievementsTitle: "実績", noAchievementsMessage: "まだ実績が定義されていません。", sellBtn: "売却", favoriteBtn: "お気に入り ⭐", unfavoriteBtn: "お気に入り解除 ⭐", closeBtn: "閉じる", autoSellSettingsTitle: "自動売却設定", autoSellDescription: "選択したレア度のアイテムは開封時に自動的に売却されます。", saveSettingsBtn: "設定を保存", autoOpenTitle: "自動ケース開封", startBtn: "開始", stopBtn: "停止", casesOpened: "開封済みケース:", languageOptionsTitle: "言語オプション", englishLang: "English", turkishLang: "Türkçe", arabicLang: "العربية", germanLang: "Deutsch", spanishLang: "Español", azerbaijaniLang: "Azərbaycanca", russianLang: "Русский", japaneseLang: "日本語", koreanLang: "한국어", hindiLang: "हिन्दी", youWon: "獲得:", notEnoughBalance: "残高が不足しています！ケースを開けるには{cost}$が必要です。", autoSellStoppedBalance: "残高が不足しています！自動ケース開封が停止しました。", itemSoldAuto: "(自動売却済み)", itemSold: "{item}を{price}$で売却しました！", itemNotFound: "エラー: アイテムがインベントリに見つかりません！", boostCannotBeSold: "ブーストアイテムは売却できません！", cannotSellFavorite: "お気に入りのアイテムは売却できません！先にお気に入りを解除してください。", boostAlreadyOwned: "このブーストはすでに所有しています！", boostPurchased: "{boostName}を正常に購入しました！ブーストが有効です！", achievementCompleted: "実績解除", achievementRewardBalance: "{amount}$を獲得しました！", achievementRewardBoost: "{boostName}ブーストを獲得し、有効になりました！", achievementBoostAlreadyOwned: "すでに{boostName}ブーストを所有しています。", unknownBoostReward: "不明なブーストリワードです！", autoSellStatusOff: "自動売却はオフです。", autoSellStatusOn: "自動売却レア度: {rarities}", autoOpenMinAchievements: "この機能を使用するには、少なくとも5つの実績を完了する必要があります。現在{count}個の実績が完了しています。", autoOpenStopped: "自動ケース開封が停止しました。", gameSavedError: "ゲームデータの保存中にエラーが発生しました。", gameLoadedError: "保存されたゲームの読み込み中にエラーが発生しました。新しいゲームが開始されました。", gameReset: "ゲームがリセットされました！", filteredItemsSold: "{count}個のアイテムを{value}$で売却しました！", noFilteredItemsToSell: "売却するフィルター済みのアイテムがないか、すべてがお気に入り/ブーストです。", confirmResetGame: "本当にすべてのゲームデータをリセットしますか？この操作は元に戻せません！", favoriteAdded: "{item}をお気に入りに追加しました！", favoriteRemoved: "{item}をお気に入りから削除しました！", itemLoadError: "エラー: アイテムを読み込めませんでした", dailyRewardsTitle: "デイリーリワード", dailyRewardDesc: "毎日ログインして特別な報酬を受け取りましょう！", dailyRewardClaimed: "{day}日目の報酬を受け取りました！", dailyRewardAlreadyClaimed: "本日の報酬はすでに受け取っています。後に戻って来てください:", dailyRewardNotReady: "本日の報酬はまだ利用できません。", day: "日", claimBtn: "受け取る", claimedBtn: "受取済", csPathTitle: "CSパス", csPathDesc: "ケースを開けてXPを獲得し、パスを進めて報酬を手に入れましょう！", tier: "ティア", xpUnit: "XP", reward: "報酬", csPathRewardClaimed: "ティア{tier}の報酬を受け取りました！", dailyCaseLimitReached: "1日のケース開封上限({limit})に達しました。明日また来てください！", inProgressAchievement: "進行中", sellLastBtn: "最後のアイテムを売却", noSellableItem: "インベントリに売却可能なアイテムがありません！", mute: "ミュート", unmute: "ミュート解除", collectionBtn: "コレクション", welcomeTitle: "ようこそ！", enterUsernamePrompt: "ユーザー名を入力して開始してください。", usernameInputPlaceholder: "名前を入力...", saveUsernameBtn: "保存して開始", adminPanelTitle: "管理者パネル", adminAddBalance: "残高を追加", adminAddXp: "XPを追加", adminAddItem: "アイテムを追加", adminAddBtn: "追加", collectionTitle: "コレクション", collectionProgress: "進捗:", probabilityTitle: "確率表", probabilityDesc: "これらは、現在有効なブーストを含んだアイテムのドロップ率です。", rarityHeader: "レア度", chanceHeader: "確率", globalAnnouncement: "{username}さん、おめでとうございます！{itemName}を獲得しました！", allItemsCollected: "おめでとうございます！すべてのアイテムを収集しました！", immortalFinder: "イモータル", immortalFinderDesc: "イモータルアイテムを入手する。", richMan: "リッチマン", richManDesc: "残高1,000,000$に到達する。", allBoosts: "ブースター", allBoostsDesc: "利用可能なすべてのブーストを購入する。", caseaholic: "ケース中毒", caseaholicDesc: "500個のケースを開ける。", elitePlayer: "エリートプレイヤー", elitePlayerDesc: "残高100,000$に到達する。", godTier: "神ティア", godTierDesc: "クロマアイテムを見つける。", xpCollector: "XPコレクター", xpCollectorDesc: "10,000 XPに到達する。", luckEventActive: "幸運イベント開催中！レア以上のアイテムのドロップ率{multiplier}倍！", luckEventEnds: "幸運イベント終了まで：" },
        ko: { lowBalanceSupport: "낮은 잔액 지원! +100$가 지급되었습니다.", loading: "로딩 중...", menuBtn: "☰ 메뉴", gameTitle: "🎁 케이스 오프닝 시뮬레이터 MK", balance: "잔액:", caseCost: "상자 비용:", playerXP: "XP:", openCaseBtn: "상자 열기", mainMenuTitle: "메인 메뉴", inventoryBtn: "인벤토리", boostShopBtn: "부스트 상점", achievementsBtn: "업적", autoSellSettingsBtn: "자동 판매", autoOpenBtn: "자동 열기", versionPatchesBtn: "패치", languageBtn: "언어", resetGameBtn: "초기화", dailyRewardsBtn: "일일", csPathBtn: "CS 패스", inventoryTitle: "내 인벤토리", allRarities: "모든 희귀도", commonRarity: "일반", rareRarity: "희귀", epicRarity: "영웅", legendaryRarity: "전설", exoticRarity: "이국적", ancientRarity: "고대", immortalRarity: "불멸", chromaRarity: "크로마", allTypes: "모든 종류", itemType: "아이템", boostType: "부스트", filterBtn: "필터", sellAllFilteredBtn: "필터된 항목 판매", noItemsMessage: "인벤토리가 비어 있습니다. 상자를 열어 아이템을 획득하세요!", boostShopTitle: "부스트 상점", noBoostsMessage: "현재 구매 가능한 부스트가 없습니다.", achievementsTitle: "업적", noAchievementsMessage: "아직 정의된 업적이 없습니다.", sellBtn: "판매", favoriteBtn: "즐겨찾기 ⭐", unfavoriteBtn: "즐겨찾기 해제 ⭐", closeBtn: "닫기", autoSellSettingsTitle: "자동 판매 설정", autoSellDescription: "선택한 희귀도의 아이템은 개봉 시 자동으로 판매됩니다.", saveSettingsBtn: "설정 저장", autoOpenTitle: "자동 상자 열기", startBtn: "시작", stopBtn: "정지", casesOpened: "열린 상자:", languageOptionsTitle: "언어 옵션", englishLang: "English", turkishLang: "Türkçe", arabicLang: "العربية", germanLang: "Deutsch", spanishLang: "Español", azerbaijaniLang: "Azərbaycanca", russianLang: "Русский", japaneseLang: "日本語", koreanLang: "한국어", hindiLang: "हिन्दी", youWon: "획득:", notEnoughBalance: "잔액이 부족합니다! 상자를 열려면 {cost}$가 필요합니다.", autoSellStoppedBalance: "잔액이 부족합니다! 자동 상자 열기가 중지되었습니다.", itemSoldAuto: "(자동 판매됨)", itemSold: "{item}을(를) {price}$에 판매했습니다!", itemNotFound: "오류: 인벤토리에서 아이템을 찾을 수 없습니다!", boostCannotBeSold: "부스트 아이템은 판매할 수 없습니다!", cannotSellFavorite: "즐겨찾기한 아이템은 판매할 수 없습니다! 먼저 즐겨찾기에서 해제하세요.", boostAlreadyOwned: "이미 이 부스트를 소유하고 있습니다!", boostPurchased: "{boostName}을(를) 성공적으로 구매했습니다! 부스트 활성화!", achievementCompleted: "업적 달성", achievementRewardBalance: "{amount}$를 획득했습니다!", achievementRewardBoost: "{boostName} 부스트를 획득했으며 활성화되었습니다!", achievementBoostAlreadyOwned: "이미 {boostName} 부스트를 소유하고 있습니다.", unknownBoostReward: "알 수 없는 부스트 보상입니다!", autoSellStatusOff: "자동 판매가 꺼져 있습니다.", autoSellStatusOn: "자동 판매 희귀도: {rarities}", autoOpenMinAchievements: "이 기능을 사용하려면 최소 5개의 업적을 완료해야 합니다. 현재 {count}개의 업적을 완료했습니다.", autoOpenStopped: "자동 상자 열기가 중지되었습니다.", gameSavedError: "게임 데이터를 저장하는 중 오류가 발생했습니다.", gameLoadedError: "저장된 게임을 불러오는 중 오류가 발생했습니다. 새 게임을 시작합니다.", gameReset: "게임이 초기화되었습니다!", filteredItemsSold: "{count}개의 아이템을 {value}$에 판매했습니다!", noFilteredItemsToSell: "판매할 필터된 아이템이 없거나 모두 즐겨찾기/부스트입니다.", confirmResetGame: "모든 게임 데이터를 초기화하시겠습니까? 이 작업은 되돌릴 수 없습니다!", favoriteAdded: "{item}을(를) 즐겨찾기에 추가했습니다!", favoriteRemoved: "{item}을(를) 즐겨찾기에서 제거했습니다!", itemLoadError: "오류: 아이템을 로드할 수 없습니다", dailyRewardsTitle: "일일 보상", dailyRewardDesc: "매일 로그인하여 특별한 보상을 받으세요!", dailyRewardClaimed: "{day}일차 보상을 받았습니다!", dailyRewardAlreadyClaimed: "오늘의 보상은 이미 받았습니다. 다음에 다시 오세요:", dailyRewardNotReady: "오늘의 보상은 아직 받을 수 없습니다.", day: "일차", claimBtn: "받기", claimedBtn: "받음", csPathTitle: "CS 패스", csPathDesc: "상자를 열어 XP를 획득하고 패스를 진행하며 보상을 받으세요!", tier: "티어", xpUnit: "XP", reward: "보상", csPathRewardClaimed: "티어 {tier} 보상을 받았습니다!", dailyCaseLimitReached: "일일 상자 열기 한도({limit})에 도달했습니다. 내일 다시 오세요!", inProgressAchievement: "진행 중", sellLastBtn: "마지막 아이템 판매", noSellableItem: "인벤토리에 판매 가능한 아이템이 없습니다!", mute: "음소거", unmute: "음소거 해제", collectionBtn: "컬렉션", welcomeTitle: "환영합니다!", enterUsernamePrompt: "사용자 이름을 입력하여 시작하세요.", usernameInputPlaceholder: "이름 입력...", saveUsernameBtn: "저장하고 시작하기", adminPanelTitle: "관리자 패널", adminAddBalance: "잔액 추가", adminAddXp: "XP 추가", adminAddItem: "아이템 추가", adminAddBtn: "추가", collectionTitle: "컬렉션", collectionProgress: "진행도:", probabilityTitle: "확률표", probabilityDesc: "활성화된 부스트를 포함한 현재 아이템 드랍률입니다.", rarityHeader: "희귀도", chanceHeader: "확률", globalAnnouncement: "축하합니다, {username}님! {itemName}을(를) 획득하셨습니다!", allItemsCollected: "축하합니다! 모든 아이템을 수집했습니다!", immortalFinder: "불멸자", immortalFinderDesc: "불멸 아이템을 획득하세요.", richMan: "부자", richManDesc: "잔액 1,000,000$에 도달하세요.", allBoosts: "부스터", allBoostsDesc: "사용 가능한 모든 부스트를 구매하세요.", caseaholic: "상자 중독자", caseaholicDesc: "500개의 상자를 여세요.", elitePlayer: "엘리트 플레이어", elitePlayerDesc: "잔액 100,000$에 도달하세요.", godTier: "신 등급", godTierDesc: "크로마 아이템을 찾으세요.", xpCollector: "XP 수집가", xpCollectorDesc: "10,000 XP에 도달하세요.", luckEventActive: "운 이벤트 활성! 희귀 아이템 이상 드랍률 {multiplier}x!", luckEventEnds: "운 이벤트 종료까지:" }
    };

    const patchNotesData = [
      { 
        version: "V2.0.7", 
        text: { 
          en: "Permanent probability table on the main screen. 5-minute luck event counter at the bottom of the screen. 2 new boosts. Progress bars on the achievements screen. 'Claimed' text over daily rewards.", 
          tr: "Ana ekranda kalıcı şans tablosu. Ekranın altındaki 5 dakikalık şans etkinliği sayacı. 2 yeni boost. Başarımlar ekranında ilerleme çubukları. Günlük ödüllerin üzerinde 'Alındı' yazısı."
        }
      },
      { 
        version: "V2.0.6", 
        text: { 
          en: "Fixes & Refinements! Event timer logic has been improved for reliability. Game reset now fully clears all data and reloads the page. CS Path progress bar and XP calculation is now accurate for all tiers. Daily reward timer is more precise.", 
          tr: "Düzeltmeler ve İyileştirmeler! Etkinlik zamanlayıcı mantığı güvenilirlik için iyileştirildi. Oyun sıfırlama artık tüm verileri tamamen temizliyor ve sayfayı yeniden yüklüyor. CS Yolu ilerleme çubuğu ve XP hesaplaması artık tüm kademeler için doğru. Günlük ödül sayacı daha hassas."
        }
      },
      { 
        version: "V2.0.5", 
        text: { 
          en: "Added a new 'Chroma' rarity with a special RGB effect. Introduced 3 new boosts and 2 new achievements. Expanded the CS Path up to 30,000 XP. Implemented an hourly Luck Event with multiplied drop rates. Enhanced the daily reward UI with a countdown timer.",
          tr: "Özel bir RGB efektine sahip yeni 'Kroma' nadirliği eklendi. 3 yeni boost ve 2 yeni başarım tanıtıldı. CS Yolu 30.000 XP'ye kadar genişletildi. Katlanmış düşürme oranlarına sahip saatlik bir Şans Etkinliği uygulandı. Günlük ödül arayüzü bir geri sayım sayacı ile geliştirildi."
        }
      },
    ];
    
    const itemsData = [
      { id: "item_0", type: "knife", name: { en: "Common Knife", tr: "Sıradan Bıçak"}, rarity: "common"},
      { id: "item_1", type: "sword", name: { en: "Rare Sword", tr: "Nadir Kılıç"}, rarity: "rare"},
      { id: "item_2", type: "claw", name: { en: "Epic Dragon Claw", tr: "Destansı Ejderha Pençesi"}, rarity: "epic"},
      { id: "item_3", type: "shield", name: { en: "Legendary Shield", tr: "Efsanevi Kalkan"}, rarity: "legendary"},
      { id: "item_12", type: "gauntlet", name: { en: "Exotic Gauntlets", tr: "Egzotik Eldivenler"}, rarity: "exotic"},
      { id: "item_13", type: "axe", name: { en: "Ancient Soul Render", tr: "Kadim Ruh Keser"}, rarity: "ancient"},
      { id: "item_14", type: "spear", name: { en: "Immortal Spear", tr: "Ölümsüz Mızrak"}, rarity: "immortal" },
      { id: "item_15", type: "bow", name: { en: "Whispering Bow", tr: "Fısıldayan Yay"}, rarity: "epic" },
      { id: "item_16", type: "hammer", name: { en: "World Breaker", tr: "Dünya Kıran"}, rarity: "ancient" },
      { id: "item_17", type: "katana", name: { en: "Rift Edge Katana", tr: "Yarık Kılıcı Katana"}, rarity: "chroma" },
    ];
    
    const boostsData = [
        { id: 'luck_1', name: { en: "Luck Boost I", tr: "Şans Güçlendirme I" }, description: { en: "+5% Rare Chance", tr: "+%5 Nadir Şansı" }, price: 500, rarity: "rare", type: "boost", effect: { rarityChance: { rare: 0.05, epic: 0.02 } } },
        { id: 'money_1', name: { en: "Money Efficiency I", tr: "Para Verimliliği I" }, description: { en: "+10% Sell Revenue", tr: "+%10 Satış Geliri" }, price: 750, rarity: "epic", type: "boost", effect: { sellMultiplier: 0.10 } },
        { id: 'cheap_case_1', name: { en: "Cheap Case I", tr: "Ucuz Kasa I" }, description: { en: "-5% Case Cost", tr: "-%5 Kasa Maliyeti" }, price: 1000, rarity: "legendary", type: "boost", effect: { caseCostReduction: 0.05 } },
        { id: 'xp_1', name: { en: "XP Boost I", tr: "XP Takviyesi I" }, description: { en: "+20% XP Gain", tr: "+%20 XP Kazancı" }, price: 1200, rarity: "epic", type: "boost", effect: { xpMultiplier: 0.20 } },
        { id: 'luck_2', name: { en: "Luck Boost II", tr: "Şans Güçlendirme II" }, description: { en: "+3% Legendary Chance", tr: "+%3 Efsanevi Şansı" }, price: 3000, rarity: "legendary", type: "boost", effect: { rarityChance: { legendary: 0.03, exotic: 0.01 } } },
        { id: 'money_2', name: { en: "Money Efficiency II", tr: "Para Verimliliği II" }, description: { en: "+25% Sell Revenue", tr: "+%25 Satış Geliri" }, price: 5000, rarity: "immortal", type: "boost", effect: { sellMultiplier: 0.25 } },
        { id: 'luck_3', name: { en: "Chroma Charm", tr: "Kroma Tılsımı" }, description: { en: "+0.05% Chroma Chance", tr: "+%0.05 Kroma Şansı" }, price: 250000, rarity: "immortal", type: "boost", effect: { rarityChance: { chroma: 0.0005 } } },
        { id: 'cheap_case_2', name: { en: "Case Discount II", tr: "Kasa İndirimi II" }, description: { en: "-10% Case Cost", tr: "-%10 Kasa Maliyeti" }, price: 15000, rarity: "immortal", type: "boost", effect: { caseCostReduction: 0.10 } },
    ];

    const achievementsData = [
        { id: "first_case", name: { en: "Initiate", tr: "Başlangıç" }, description: { en: "Open your first case.", tr: "İlk kasanı aç." }, target: { caseOpened: 1 }, reward: { type: "balance", amount: 50 } },
        { id: "novice_opener", name: { en: "Novice Opener", tr: "Acemi Kasacı" }, description: { en: "Open 10 cases.", tr: "10 kasa aç." }, target: { caseOpened: 10 }, reward: { type: "balance", amount: 200 } },
        { id: "rare_collector", name: { en: "Rare Finder", tr: "Nadir Avcısı" }, description: { en: "Win a rare item.", tr: "Nadir bir eşya kazan." }, target: { hasRarity: "rare" }, reward: { type: "balance", amount: 150 } },
        { id: "case_opener_master", name: { en: "Case Master", tr: "Usta Kasacı" }, description: { en: "Open 100 cases.", tr: "100 kasa aç." }, target: { caseOpened: 100 }, reward: { type: "balance", amount: 1000 } },
        { id: "caseaholic", name: { en: "Caseaholic", tr: "Kasakolik" }, description: { en: "Open 500 cases.", tr: "500 kasa aç." }, target: { caseOpened: 500 }, reward: { type: "balance", amount: 5000 } },
        { id: "legendary_finder", name: { en: "Legend Hunter", tr: "Efsane Avcısı" }, description: { en: "Win a legendary item.", tr: "Efsanevi bir eşya kazan." }, target: { hasRarity: "legendary" }, reward: { type: "xp", amount: 250 } },
        { id: "millionaire", name: { en: "Millionaire", tr: "Milyoner" }, description: { en: "Earn a total of 10,000$.", tr: "Toplam 10,000$ kazan." }, target: { totalMoneyEarned: 10000 }, reward: { type: "balance", amount: 2000 } },
        { id: "elite_player", name: { en: "Elite Player", tr: "Elit Oyuncu" }, description: { en: "Reach a balance of 100,000$.", tr: "100.000$ bakiyeye ulaş." }, target: { balance: 100000 }, reward: { type: "xp", amount: 2500 } },
        { id: "merchant", name: { en: "Merchant", tr: "Tüccar" }, description: { en: "Sell 10 items.", tr: "10 eşya sat." }, target: { itemsSold: 10 }, reward: { type: "xp", amount: 100 } },
        { id: "collector", name: { en: "Collector", tr: "Koleksiyoncu" }, description: { en: "Have 20 different items in your inventory.", tr: "Envanterinde 20 farklı eşya bulundur." }, target: { inventoryCount: 20 }, reward: { type: "balance", amount: 500 } },
        { id: "immortal_finder", name: { en: "Immortal", tr: "Ölümsüz" }, description: { en: "Obtain an immortal item.", tr: "Ölümsüz bir eşya elde et." }, target: { hasRarity: "immortal" }, reward: { type: "balance", amount: 10000 } },
        { id: "rich_man", name: { en: "Rich Man", tr: "Zengin" }, description: { en: "Reach a balance of 1,000,000$.", tr: "1.000.000$ bakiyeye ulaş." }, target: { balance: 1000000 }, reward: { type: "xp", amount: 5000 } },
        { id: "all_boosts", name: { en: "Booster", tr: "Güçlendirici" }, description: { en: "Purchase all available boosts.", tr: "Mevcut tüm boostları satın al." }, target: { allBoosts: true }, reward: { type: "balance", amount: 2500 } },
        { id: "god_tier", name: { en: "God Tier", tr: "Tanrı Katı" }, description: { en: "Find a Chroma item.", tr: "Bir Kroma eşyası bul." }, target: { hasRarity: "chroma" }, reward: { type: "balance", amount: 50000 } },
        { id: "xp_collector", name: { en: "XP Collector", tr: "XP Koleksiyoncusu" }, description: { en: "Reach 10,000 XP.", tr: "10.000 XP'ye ulaş." }, target: { xp: 10000 }, reward: { type: "balance", amount: 10000 } },
    ];

    const dailyRewardsData = [
        { day: 1, type: "balance", amount: 500, name: {en: "500 Balance", tr: "500 Bakiye"} },
        { day: 2, type: "item", itemId: "item_1", name: {en: "Rare Sword", tr: "Nadir Kılıç"} },
        { day: 3, type: "balance", amount: 1500, name: {en: "1500 Balance", tr: "1500 Bakiye"} },
        { day: 4, type: "xp", amount: 50, name: {en: "50 XP", tr: "50 XP"} },
        { day: 5, type: "boost", boostId: "luck_1", name: {en: "Luck Boost I", tr: "Şans Güçlendirme I"} },
        { day: 6, type: "balance", amount: 5000, name: {en: "5000 Balance", tr: "5000 Bakiye"} },
        { day: 7, type: "item", itemId: "item_2", name: {en: "Epic Dragon Claw", tr: "Destansı Ejderha Pençesi"} },
    ];
    
    const csPathData = [
        { tier: 1, xp: 1000, reward: { type: "balance", amount: 250 } },
        { tier: 2, xp: 2500, reward: { type: "item", itemId: "item_0" } },
        { tier: 3, xp: 5000, reward: { type: "balance", amount: 1000 } },
        { tier: 4, xp: 7500, reward: { type: "boost", boostId: "xp_1" } },
        { tier: 5, xp: 10000, reward: { type: "balance", amount: 5000 } },
        { tier: 6, xp: 15000, reward: { type: "item", itemId: "item_15" } },
        { tier: 7, xp: 20000, reward: { type: "boost", boostId: "luck_2" } },
        { tier: 8, xp: 30000, reward: { type: "item", itemId: "item_16" } },
    ];
    
    const dom = {
        body: document.getElementById('body'),
        preloader: document.getElementById("preloader"),
        items: document.getElementById("items"),
        result: document.getElementById("result"),
        openBtn: document.getElementById("openBtn"),
        balanceAmount: document.getElementById("balance-amount"),
        xpAmount: document.getElementById("xp-amount"),
        caseCost: document.getElementById("cost-amount"),
        inventory: document.getElementById("inventory"),
        noItemsMessage: document.getElementById("no-items-message"),
        errorMessage: document.getElementById("errorMessage"),
        currentTime: document.getElementById("current-time"),
        modalItemName: document.getElementById("modalItemName"),
        modalItemImage: document.getElementById("modalItemImage"),
        modalItemRarity: document.getElementById("modalItemRarity"),
        modalItemSellPrice: document.getElementById("modalItemSellPrice"),
        modalMessage: document.getElementById("modalMessage"),
        sellItemBtn: document.getElementById("sellItemBtn"),
        favoriteItemBtn: document.getElementById("favoriteItemBtn"),
        patchesList: document.getElementById("patches-list"),
        boostsContainer: document.getElementById("boosts-container"),
        noBoostsMessage: document.getElementById("no-boosts-message"),
        achievementsList: document.getElementById("achievements-list"),
        noAchievementsMessage: document.getElementById("no-achievements-message"),
        dailyRewardsMenuBtn: document.getElementById("dailyRewardsMenuBtn"),
        dailyRewardsGrid: document.getElementById("daily-rewards-grid"),
        dailyRewardMessage: document.getElementById("daily-reward-message"),
        dailyRewardDesc: document.getElementById("dailyRewardDesc"),
        csPathRewardsList: document.getElementById("cs-path-rewards-list"),
        csPathProgressBar: document.getElementById("cs-path-progress-bar"),
        csPathXpText: document.getElementById("cs-path-xp-text"),
        rarityFilter: document.getElementById("rarityFilter"),
        typeFilter: document.getElementById("typeFilter"),
        autoSellCheckboxes: Object.fromEntries(["common", "rare", "epic", "legendary", "exotic", "ancient", "immortal", "chroma"].map(r => [r, document.getElementById(`autoSell${r.charAt(0).toUpperCase() + r.slice(1)}`)])),
        saveAutoSellBtn: document.getElementById("saveAutoSellBtn"),
        autoSellStatus: document.getElementById("auto-sell-status"),
        autoOpenInfo: document.getElementById("auto-open-info"),
        autoOpenStartBtn: document.getElementById("auto-open-start-btn"),
        autoOpenStopBtn: document.getElementById("auto-open-stop-btn"),
        autoOpenCount: document.getElementById("auto-open-count"),
        sellLastBtn: document.getElementById("sellLastBtn"),
        muteBtn: document.getElementById("muteBtn"),
        muteIconContainer: document.getElementById("muteIconContainer"),
        achievementToast: document.getElementById("achievement-toast"),
        toastTitle: document.getElementById("toast-title"),
        toastDesc: document.getElementById("toast-desc"),
        caseContainer: document.getElementById("case"),
        usernameModal: document.getElementById("usernameModal"),
        usernameInput: document.getElementById("usernameInput"),
        saveUsernameBtn: document.getElementById("saveUsernameBtn"),
        globalAnnouncement: document.getElementById("global-announcement"),
        collectionGrid: document.getElementById("collection-grid"),
        collectionProgress: document.getElementById("collection-progress"),
        probabilityTableBody: document.querySelector("#probability-table tbody"),
        adminItemSelect: document.getElementById("adminItem"),
        userProfileDisplay: document.getElementById("user-profile-display"),
        profileAvatar: document.getElementById("profile-avatar"),
        profileUsername: document.getElementById("profile-username"),
        autoOpenToggleContainer: document.getElementById("autoOpenToggleContainer"),
        autoOpenToggle: document.getElementById("autoOpenToggle"),
        eventTimerBar: document.getElementById("event-timer-bar"),
    };

    const sfx = {
        open: document.getElementById("openSound"),
        win: document.getElementById("winSound"),
        claim: document.getElementById("claimSound"),
    };
    
    const svgIcons = {
        volumeOn: `<svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>`,
        volumeOff: `<svg viewBox="0 0 24 24"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/></svg>`
    };

    let currentLang, currentBalance, currentCaseCost, inventory, nextItemId;
    let playerStats, autoSellRarities, autoOpenInterval, autoOpenedCases;
    let currentModalItem = null;
    let lastWonItem = null;
    let hourlyEventInterval = null; 
    let dailyRewardTimerInterval = null;

    const baseCaseCost = 100;
    const DAILY_CASE_LIMIT = 5000;
    const XP_PER_CASE = 10;
    const raritySellPrices = { common: 10, rare: 50, epic: 200, legendary: 1000, exotic: 5000, ancient: 15000, immortal: 50000, chroma: 250000 };
    const rarityColors = { common: '#A9A9A9', rare: '#4299e1', epic: '#805ad5', legendary: '#ed8936', exotic: '#F0E68C', ancient: '#e53e3e', immortal: '#FFD700', chroma: 'rgb(255,0,0)' };
    const rarityOrder = { common: 1, rare: 2, epic: 3, legendary: 4, exotic: 5, ancient: 6, immortal: 7, chroma: 8 };
    let rarityWeights, baseRarityWeights = { common: 0.584, rare: 0.25, epic: 0.10, legendary: 0.04, exotic: 0.015, ancient: 0.008, immortal: 0.002, chroma: 0.001 };
    const ADMIN_PASSWORD = "admin123";

    function getSVGDataURI(svgString) {
        return 'data:image/svg+xml;base64,' + btoa(svgString);
    }
    
    function generateItemSVG(rarity, itemType) {
        const color = rarityColors[rarity] || '#ffffff';
        const glow = rarityOrder[rarity] >= rarityOrder.legendary;
        let shape;

        switch(itemType) {
            case 'knife': shape = `<path d="M20 4L5 19l-1-1L19 3z M5 19l-2 2 3 3 2-2z" stroke-width="2" stroke="${color}" fill="none"/>`; break;
            case 'sword': shape = `<path d="M21 3L3 21h-2v-2L19 1h2v2z M5 16L2 19" stroke-width="2" stroke="${color}" fill="none"/>`; break;
            case 'shield': shape = `<path d="M12 2L4 5v6c0 5.55 3.58 10.4 8 11.92 4.42-1.52 8-6.37 8-11.92V5l-8-3z" stroke-width="2" stroke="${color}" fill="${color}40"/>`; break;
            case 'claw': shape = `<path d="M10 3L4 9 9 14l-2 5 5-2 5-5L12 7z" stroke-width="2" stroke="${color}" fill="${color}60"/> <path d="M15 4l5 5" stroke-width="2" stroke="${color}" fill="none"/>`; break;
            case 'gauntlet': shape = `<path d="M18 8V4H8v12h4v4h6v-8h-6V8h6z" stroke-width="2" stroke="${color}" fill="${color}20"/>`; break;
            case 'axe': shape = `<path d="M12 2l10 10-2 2-8-8-8 8-2-2L12 2z M4 14v8h2v-6l2-2" stroke-width="2" stroke="${color}" fill="${color}50"/>`; break;
            case 'spear': shape = `<path d="M12 2l4 8h-8z M12 10v12" stroke-width="2" stroke="${color}" fill="${color}60"/>`; break;
            case 'bow': shape = `<path d="M4 12C4 6 10 2 20 4" stroke-width="2" stroke="${color}" fill="none"/> <path d="M4 12C4 18 10 22 20 20" stroke-width="2" stroke="${color}" fill="none"/> <line x1="4" y1="12" x2="18" y2="12" stroke-width="1.5" stroke="${color}"/>`; break;
            case 'hammer': shape = `<rect x="2" y="4" width="20" height="8" rx="2" stroke-width="2" stroke="${color}" fill="${color}50"/> <line x1="12" y1="12" x2="12" y2="22" stroke-width="3" stroke="${color}"/>`; break;
            case 'katana': shape = `<path d="M4 20L20 4l-1-1-1 1-14 14-1 1 1 1z" stroke-width="1.5" stroke="${color}" fill="${color}40"/> <path d="M6 18l-3 3h2l2-2" stroke-width="1.5" stroke="${color}" fill="none"/>`; break;
            default: shape = `<circle cx="12" cy="12" r="10" stroke-width="2" stroke="${color}" fill="none"/>`;
        }

        const svg = `
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100" height="100">
                ${glow ? `<filter id="glow"><feGaussianBlur stdDeviation="1.5" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>` : ''}
                <g ${glow ? `filter="url(#glow)"` : ''}>${shape}</g>
            </svg>
        `;
        return getSVGDataURI(svg);
    }

    function translateText(key, replacements = {}) {
        let text = (translations[currentLang]?.[key]) 
                   || (translations['en']?.[key]) 
                   || key;
        for (const placeholder in replacements) {
            text = text.replace(`{${placeholder}}`, replacements[placeholder]);
        }
        return text;
    }
    
    function getTranslatedTextFromObject(textObject) {
        if (!textObject) return '';
        return textObject[currentLang] || textObject['en'] || Object.values(textObject)[0] ||'';
    }
    
    function openModal(modalId) {
        document.getElementById(modalId)?.classList.add('show');
        const modalActions = {
            inventoryModal: applyInventoryFilters,
            boostShopModal: populateBoostShop,
            achievementsModal: renderAchievements,
            autoSellModal: loadAutoSellSettings,
            autoOpenModal: updateAutoOpenInfo,
            languageSelectModal: updateLanguageButtons,
            dailyRewardModal: updateDailyRewardsUI,
            csPathModal: updateCsPathUI,
            collectionModal: renderCollection
        };
        modalActions[modalId]?.();
    }

    function closeModal(modalId) {
        document.getElementById(modalId)?.classList.remove('show');
        if (modalId === 'itemDetailsModal') currentModalItem = null;
    }
    
    function getRandomItemByRarity() {
        const rand = Math.random();
        let cumulativeWeight = 0;
        for (const rarity in rarityWeights) {
            cumulativeWeight += rarityWeights[rarity];
            if (rand < cumulativeWeight) {
                const filteredItems = itemsData.filter(item => item.rarity === rarity);
                return filteredItems.length > 0 ? filteredItems[Math.floor(Math.random() * filteredItems.length)] : itemsData[0];
            }
        }
        return itemsData[0];
    }
    
    function calculateSellPrice(item) {
        if (!item || item.type === "boost") return 0;
        let price = raritySellPrices[item.rarity] || 0;
        inventory.filter(i => i.type === "boost" && i.effect?.sellMultiplier)
                 .forEach(boost => price *= (1 + boost.effect.sellMultiplier));
        return Math.floor(price);
    }
    
    async function openCase(isAuto = false) {
        if (currentBalance < currentCaseCost) {
            showErrorMessage(isAuto ? "autoSellStoppedBalance" : "notEnoughBalance", 3000, { cost: Math.round(currentCaseCost) });
            if (isAuto) stopAutoOpen();
            return;
        }

        const today = new Date().toDateString();
        if(playerStats.lastCaseOpenDate !== today) {
            playerStats.casesOpenedToday = 0;
            playerStats.lastCaseOpenDate = today;
        }
        if (playerStats.casesOpenedToday >= DAILY_CASE_LIMIT) {
            showErrorMessage('dailyCaseLimitReached', 5000, { limit: DAILY_CASE_LIMIT });
            if (isAuto) stopAutoOpen();
            return;
        }
        
        dom.openBtn.disabled = true;
        dom.sellLastBtn.disabled = true;
        sfx.open.currentTime=0; sfx.open.play();
        currentBalance -= currentCaseCost;

        if (currentBalance < 100) {
            currentBalance += 100;
            showErrorMessage('lowBalanceSupport', 4000, {}, true); 
        }

        let xpGained = XP_PER_CASE;
        inventory.filter(i => i.type === "boost" && i.effect?.xpMultiplier)
                 .forEach(boost => xpGained *= (1 + boost.effect.xpMultiplier));

        playerStats.caseOpened++; 
        playerStats.casesOpenedToday++;
        playerStats.xp += Math.round(xpGained);
        
        const wonItemData = getRandomItemByRarity(); 
        
        dom.items.innerHTML = '';
        dom.items.style.transition = "none";
        dom.items.style.transform = "translateX(0)";
        void dom.items.offsetWidth;

        const numItems = 100;
        const winIndex = 80;
        for (let i = 0; i < numItems; i++) {
            const item = (i === winIndex) ? wonItemData : getRandomItemByRarity();
            dom.items.appendChild(createItemElement(item));
        }

        const itemFullWidth = dom.items.children[0].offsetWidth + (parseFloat(getComputedStyle(dom.items.children[0]).marginLeft) * 2);
        const scrollAmount = (winIndex * itemFullWidth) - (dom.caseContainer.offsetWidth / 2) + (itemFullWidth / 2);

        dom.items.style.transition = `transform 3.5s cubic-bezier(0.25, 1, 0.5, 1)`;
        dom.items.style.transform = `translateX(-${scrollAmount}px)`;
        
        await new Promise(resolve => setTimeout(resolve, 3550));

        dom.items.children[winIndex].classList.add('highlighted');
        const wonItemName = getTranslatedTextFromObject(wonItemData.name);
        dom.result.innerHTML = `${translateText('youWon')} <span class="${wonItemData.rarity} highlight">${wonItemName}</span>`;
        sfx.win.currentTime=0; sfx.win.play();

        playerStats.raritiesWon[wonItemData.rarity] = true;
        playerStats.collection[wonItemData.id] = true; 

        if (rarityOrder[wonItemData.rarity] >= rarityOrder.legendary) {
            showGlobalAnnouncement(playerStats.username, wonItemData);
        }

        if (autoSellRarities.includes(wonItemData.rarity)) {
            const sellPrice = calculateSellPrice(wonItemData);
            currentBalance += sellPrice;
            playerStats.totalMoneyEarned += sellPrice;
            playerStats.itemsSold++;
            dom.result.innerHTML += `<br><span style="color:#00ff99;">(+${sellPrice}$) ${translateText('itemSoldAuto')}</span>`;
            lastWonItem = null;
        } else {
            const newItem = { ...wonItemData, id: nextItemId++, type: "item", isFavorite: false };
            inventory.push(newItem);
            lastWonItem = newItem;
            dom.sellLastBtn.disabled = false;
        }
        
        updateUI();
        checkAchievements(); 
        updateCsPathUI();
        if(!isAuto) dom.openBtn.disabled = false;
    }

    function createItemElement(itemData, isCollection = false) {
        const el = document.createElement("div");
        el.className = `item ${itemData.rarity}`;
        if (isCollection) {
            el.classList.add('collection-item');
            if (playerStats.collection[itemData.id]) {
                el.classList.add('found');
            }
        }
        el.innerHTML = `
            <img src="${generateItemSVG(itemData.rarity, itemData.type)}" alt="${getTranslatedTextFromObject(itemData.name)}" loading="lazy">
            <div class="item-name">${getTranslatedTextFromObject(itemData.name)}</div>
        `;
        return el;
    }

    function createInventoryItemElement(item) {
        const el = document.createElement("div");
        const itemName = getTranslatedTextFromObject(item.name);
        const itemClass = item.type === "boost" ? `boost-item inventory-item ${item.rarity}-boost` : `inventory-item ${item.rarity}`;
        el.className = itemClass + (item.isFavorite ? ' favorite' : '');
        el.dataset.itemId = item.id;
        el.innerHTML = `
            <img src="${generateItemSVG(item.rarity, item.type)}" alt="${itemName}">
            <div class="item-name inventory-item-name">${itemName}</div>
            ${item.isFavorite ? '<span class="favorite-star">⭐</span>' : ''}
        `;
        el.addEventListener('click', () => openItemDetailsModal(item));
        return el;
    }

    function updateInventory(filteredInv = inventory) {
        dom.inventory.innerHTML = '';
        dom.noItemsMessage.style.display = filteredInv.length === 0 ? 'block' : 'none';
        
        filteredInv.sort((a, b) => {
            if (a.isFavorite !== b.isFavorite) return b.isFavorite ? -1 : 1;
            if (a.type !== b.type) return a.type === 'boost' ? -1 : 1;
            return (rarityOrder[b.rarity] || 0) - (rarityOrder[a.rarity] || 0);
        }).forEach(item => dom.inventory.appendChild(createInventoryItemElement(item)));
    }

    function renderAchievements() {
        dom.achievementsList.innerHTML = '';
        if (!achievementsData || achievementsData.length === 0) {
            dom.noAchievementsMessage.style.display = 'block';
            return;
        }
        dom.noAchievementsMessage.style.display = 'none';

        achievementsData.forEach(ach => {
            const achData = playerStats.achievements.find(pa => pa.id === ach.id) || { id: ach.id, completed: false };
            const achEl = document.createElement("div");
            achEl.className = `achievement-item ${achData.completed ? 'completed' : ''}`;
            
            let rewardText = "";
            const reward = ach.reward;
            if (reward.type === "balance") rewardText = `${translateText('reward')}: ${reward.amount}$`;
            else if (reward.type === "xp") rewardText = `${translateText('reward')}: ${reward.amount} XP`;
            else if (reward.type === "boost") {
                const boost = boostsData.find(b => b.id === reward.boostId);
                rewardText = `${translateText('reward')}: ${boost ? getTranslatedTextFromObject(boost.name) : ''}`;
            }

            let progressHTML = '';
            if (!achData.completed) {
                const targetKey = Object.keys(ach.target)[0];
                const targetValue = ach.target[targetKey];
                let currentValue = 0;

                switch (targetKey) {
                    case 'caseOpened': currentValue = playerStats.caseOpened; break;
                    case 'totalMoneyEarned': currentValue = playerStats.totalMoneyEarned; break;
                    case 'balance': currentValue = currentBalance; break;
                    case 'xp': currentValue = playerStats.xp; break;
                    case 'itemsSold': currentValue = playerStats.itemsSold; break;
                    case 'inventoryCount': currentValue = inventory.filter(i => i.type === 'item').length; break;
                }
                
                if (typeof targetValue === 'number' && targetValue > 0) {
                    const percentage = Math.min((currentValue / targetValue) * 100, 100);
                    progressHTML = `
                        <div class="achievement-progress">
                            <div class="achievement-progress-container">
                                <div class="achievement-progress-bar" style="width: ${percentage}%;"></div>
                            </div>
                            <div class="achievement-progress-text">${Math.floor(currentValue)} / ${targetValue}</div>
                        </div>
                    `;
                }
            }

            achEl.innerHTML = `
                <h4>${getTranslatedTextFromObject(ach.name)}</h4>
                <p>${getTranslatedTextFromObject(ach.description)}</p>
                <div class="reward-text">${rewardText}</div>
                ${progressHTML}
                <div class="completion-status">${translateText(achData.completed ? 'claimedBtn' : 'inProgressAchievement')}</div>
            `;
            dom.achievementsList.appendChild(achEl);
        });
    }
    
    function updatePatchNotes() {
        dom.patchesList.innerHTML = patchNotesData
            .map(p => `<li><strong>${p.version}:</strong> ${getTranslatedTextFromObject(p.text)}</li>`)
            .join('');
    }

    function applyBoostEffects() {
        const now = new Date();
        const eventData = playerStats.luckEvent;
        let eventMultiplier = 1;
        
        if (eventData && now < new Date(eventData.endTime)) {
            eventMultiplier = eventData.multiplier;
        }

        rarityWeights = { ...baseRarityWeights };
        if (eventMultiplier > 1) {
            for (const r in rarityWeights) {
                if (rarityOrder[r] > rarityOrder.common) {
                    rarityWeights[r] *= eventMultiplier;
                }
            }
        }

        currentCaseCost = baseCaseCost;
        const activeBoosts = inventory.filter(item => item.type === "boost");
        activeBoosts.forEach(source => {
            if (source.effect?.rarityChance) {
                for (const rarity in source.effect.rarityChance) {
                    if (rarityWeights[rarity] !== undefined) rarityWeights[rarity] += source.effect.rarityChance[rarity];
                }
            }
            if (source.effect?.caseCostReduction) currentCaseCost *= (1 - source.effect.caseCostReduction);
        });
        
        let totalOtherWeights = 0;
        for (const r in rarityWeights) {
            if(r !== 'common') totalOtherWeights += rarityWeights[r];
        }

        if (totalOtherWeights >= 1) {
            rarityWeights.common = 0;
            for (const r in rarityWeights) {
                if (r !== 'common') rarityWeights[r] /= totalOtherWeights;
            }
        } else {
            rarityWeights.common = 1 - totalOtherWeights;
        }
        
        dom.caseCost.textContent = Math.round(currentCaseCost);
        renderProbabilityTable();
    }
    
    function applyInventoryFilters() {
        const rarity = dom.rarityFilter.value;
        const type = dom.typeFilter.value;
        const filtered = inventory.filter(item => 
            (rarity === 'all' || item.rarity === rarity) && (type === 'all' || item.type === type)
        );
        updateInventory(filtered);
    }
    
    function loadAutoSellSettings() {
        Object.keys(dom.autoSellCheckboxes).forEach(r => {
            const checkbox = dom.autoSellCheckboxes[r];
            if (checkbox) checkbox.checked = autoSellRarities.includes(r);
        });
        updateAutoSellStatus();
    }
    function saveAutoSellSettings() {
        autoSellRarities = Object.keys(dom.autoSellCheckboxes).filter(r => dom.autoSellCheckboxes[r]?.checked);
        saveGameData();
        updateAutoSellStatus();
        showErrorMessage("saveSettingsBtn", 3000, {}, true);
    }
    function updateAutoSellStatus() {
        const rarities = autoSellRarities.map(r => translateText(`${r}Rarity`)).join(', ');
        dom.autoSellStatus.textContent = autoSellRarities.length === 0 
            ? translateText("autoSellStatusOff") 
            : translateText("autoSellStatusOn", { rarities });
        dom.autoSellStatus.style.color = autoSellRarities.length > 0 ? "#00ff99" : "#ccc";
    }

    function updateDailyRewardsUI() {
        clearInterval(dailyRewardTimerInterval);
        dom.dailyRewardsGrid.innerHTML = '';
        dom.dailyRewardMessage.textContent = '';
        const today = new Date().toDateString();
        const claimAvailable = playerStats.lastClaimDate !== today;

        dom.dailyRewardDesc.textContent = translateText('dailyRewardDesc');

        if (!claimAvailable) {
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            tomorrow.setHours(0, 0, 0, 0);

            function updateTimer() {
                const now = new Date();
                const diff = tomorrow.getTime() - now.getTime();
                if (diff <= 0) {
                    dom.dailyRewardDesc.textContent = translateText('dailyRewardDesc');
                    dom.dailyRewardMessage.textContent = '';
                    clearInterval(dailyRewardTimerInterval);
                    updateDailyRewardsUI(); 
                    return;
                }
                const hours = Math.floor(diff / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                dom.dailyRewardMessage.textContent = `${translateText('dailyRewardAlreadyClaimed')} ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
            updateTimer();
            dailyRewardTimerInterval = setInterval(updateTimer, 1000);
        }

        dailyRewardsData.forEach((reward, index) => {
            const rewardEl = document.createElement('div');
            rewardEl.className = 'daily-reward-item';
            const dayIndex = index + 1;
            const isCurrentDay = playerStats.dailyRewardCycle % dailyRewardsData.length === index;
            
            let previewHTML = '';
            if (reward.type === 'balance') previewHTML = `<span>${reward.amount}$</span>`;
            else if (reward.type === 'xp') previewHTML = `<span style="color:#8a2be2;">${reward.amount}XP</span>`;
            else if (reward.type === 'item') {
                const item = itemsData.find(i => i.id === reward.itemId);
                if (item) previewHTML = `<img src="${generateItemSVG(item.rarity, item.type)}" alt="${getTranslatedTextFromObject(item.name)}">`;
            } else if (reward.type === 'boost') {
                const boost = boostsData.find(b => b.id === reward.boostId);
                if(boost) previewHTML = `<div style="font-size:20px; color:#00ffff;">${getTranslatedTextFromObject(boost.name)}</div>`;
            }

            rewardEl.innerHTML = `
                <div class="day-number">${translateText('day')} ${dayIndex}</div>
                <div class="reward-preview">${previewHTML}</div>
                <div class="reward-name">${getTranslatedTextFromObject(reward.name)}</div>
            `;

            if (isCurrentDay && claimAvailable) rewardEl.classList.add('claimable');
            if (isCurrentDay && !claimAvailable) {
                rewardEl.classList.add('claimed');
                const overlay = document.createElement('div');
                overlay.className = 'claimed-overlay';
                overlay.innerHTML = `<span>${translateText('claimedBtn')}</span>`;
                rewardEl.appendChild(overlay);
            }

            if (isCurrentDay && claimAvailable) {
                rewardEl.addEventListener('click', () => claimDailyReward(reward, index));
            }
            dom.dailyRewardsGrid.appendChild(rewardEl);
        });
    }
    
    function claimDailyReward(rewardData, index) {
        if (playerStats.lastClaimDate === new Date().toDateString()) {
            dom.dailyRewardMessage.textContent = translateText('dailyRewardAlreadyClaimed');
            return;
        }
        sfx.claim.currentTime=0; sfx.claim.play();

        if (rewardData.type === 'balance') currentBalance += rewardData.amount;
        else if (rewardData.type === 'xp') playerStats.xp += rewardData.amount;
        else if (rewardData.type === 'item') {
            const item = itemsData.find(i => i.id === rewardData.itemId);
            if (item) {
                inventory.push({ ...item, id: nextItemId++, type: 'item', isFavorite: false });
                playerStats.collection[item.id] = true;
            }
        } else if (rewardData.type === 'boost') {
            const boost = boostsData.find(b => b.id === rewardData.boostId);
            if (boost && !inventory.some(i => i.id === boost.id)) {
                inventory.push({ ...boost, type: 'boost', isFavorite: false });
            }
        }
        
        playerStats.lastClaimDate = new Date().toDateString();
        playerStats.dailyRewardCycle++;
        dom.dailyRewardMessage.textContent = translateText('dailyRewardClaimed', { day: index + 1 });
        updateDailyRewardsUI();
        updateDailyRewardNotification();
        updateUI();
    }

    function checkAchievements() {
        playerStats.favoriteCount = inventory.filter(item => item.isFavorite && item.type !== "boost").length;
        playerStats.inventoryCount = inventory.filter(item => item.type === "item").length;

        achievementsData.forEach(ach => {
            const achProgress = playerStats.achievements.find(pa => pa.id === ach.id);
            if (achProgress?.completed) return;

            let isCompleted = false;
            const target = ach.target;
            if (target.caseOpened && playerStats.caseOpened >= target.caseOpened) isCompleted = true;
            if (target.totalMoneyEarned && playerStats.totalMoneyEarned >= target.totalMoneyEarned) isCompleted = true;
            if (target.hasRarity && playerStats.raritiesWon[target.hasRarity]) isCompleted = true;
            if (target.boughtBoost && playerStats.boughtBoost >= target.boughtBoost) isCompleted = true;
            if (target.itemsSold && playerStats.itemsSold >= target.itemsSold) isCompleted = true;
            if (target.inventoryCount && playerStats.inventoryCount >= target.inventoryCount) isCompleted = true;
            if (target.balance && currentBalance >= target.balance) isCompleted = true;
            if (target.xp && playerStats.xp >= target.xp) isCompleted = true;
            if (target.allBoosts) {
                const ownedBoosts = inventory.filter(i => i.type === 'boost').length;
                if (ownedBoosts === boostsData.length) isCompleted = true;
            }

            if (isCompleted) {
                if (!achProgress) playerStats.achievements.push({ id: ach.id, completed: true });
                else achProgress.completed = true;
                awardAchievement(ach);
            }
        });
        renderAchievements();
        updateAutoOpenInfo();
        updateAutoOpenToggleVisibility();
    }
    
    function awardAchievement(ach) {
        const reward = ach.reward;
        if (reward.type === "balance") currentBalance += reward.amount;
        else if (reward.type === "xp") playerStats.xp += reward.amount;
        else if (reward.type === "boost") {
            const boost = boostsData.find(b => b.id === reward.boostId);
            if (boost && !inventory.some(i => i.id === boost.id)) {
                inventory.push({ ...boost, type: "boost", isFavorite: false });
            }
        }
        showAchievementToast(ach);
        sfx.win.currentTime = 0; sfx.win.play();
        updateUI();
    }

    function showAchievementToast(achievement) {
        dom.toastTitle.textContent = getTranslatedTextFromObject(achievement.name);
        dom.toastDesc.textContent = getTranslatedTextFromObject(achievement.description);
        dom.achievementToast.classList.add('show');
        setTimeout(() => {
            dom.achievementToast.classList.remove('show');
        }, 5000);
    }
    
    function updateCsPathUI() {
        dom.csPathRewardsList.innerHTML = '';
        const lastClaimedTier = playerStats.csPathClaimedTiers.length > 0 
            ? csPathData.find(t => t.tier === Math.max(...playerStats.csPathClaimedTiers)) 
            : null;
        const prevTierXP = lastClaimedTier ? lastClaimedTier.xp : 0;
        
        const nextTier = csPathData.find(t => !playerStats.csPathClaimedTiers.includes(t.tier));
        const nextTierXP = nextTier ? nextTier.xp : csPathData[csPathData.length-1].xp;
        
        const totalXpForNext = nextTierXP - prevTierXP;
        const currentXpForNext = playerStats.xp - prevTierXP;

        const progressPercentage = totalXpForNext > 0 ? Math.min((currentXpForNext / totalXpForNext) * 100, 100) : (playerStats.xp >= nextTierXP ? 100 : 0);
        
        dom.csPathProgressBar.style.width = `${progressPercentage}%`;
        dom.csPathXpText.textContent = `${translateText('xpUnit')}: ${playerStats.xp} / ${nextTierXP}`;

        csPathData.forEach(tier => {
            const tierEl = document.createElement('div');
            tierEl.className = 'cs-path-tier';
            const isClaimed = playerStats.csPathClaimedTiers.includes(tier.tier);
            const canClaim = playerStats.xp >= tier.xp && !isClaimed;

            if(isClaimed) tierEl.classList.add('claimed');
            if(canClaim) tierEl.classList.add('unlocked');
            
            let rewardText = '';
            if (tier.reward.type === 'balance') rewardText = `${tier.reward.amount}$`;
            else if (tier.reward.type === 'item') {
                const item = itemsData.find(i => i.id === tier.reward.itemId);
                rewardText = item ? getTranslatedTextFromObject(item.name) : '';
            } else if (tier.reward.type === 'boost') {
                const boost = boostsData.find(b => b.id === tier.reward.boostId);
                rewardText = boost ? getTranslatedTextFromObject(boost.name) : '';
            }

            tierEl.innerHTML = `
                <div class="cs-path-tier-info">
                    <div class="tier-level">${translateText('tier')} ${tier.tier} (${tier.xp} ${translateText('xpUnit')})</div>
                    <div class="tier-reward">${translateText('reward')}: ${rewardText}</div>
                </div>
                <button class="claim-btn" ${!canClaim ? 'disabled' : ''}>${isClaimed ? translateText('claimedBtn') : translateText('claimBtn')}</button>
            `;
            if (canClaim) {
                tierEl.querySelector('.claim-btn').addEventListener('click', () => claimCsPathReward(tier));
            }
            dom.csPathRewardsList.appendChild(tierEl);
        });
    }

    function claimCsPathReward(tierData) {
        if (playerStats.xp < tierData.xp || playerStats.csPathClaimedTiers.includes(tierData.tier)) return;
        
        const reward = tierData.reward;
        if (reward.type === 'balance') currentBalance += reward.amount;
        else if (reward.type === 'item') {
            const item = itemsData.find(i => i.id === reward.itemId);
            if(item) {
                inventory.push({ ...item, id: nextItemId++, type: 'item', isFavorite: false });
                playerStats.collection[item.id] = true;
            }
        } else if (reward.type === 'boost') {
            const boost = boostsData.find(b => b.id === reward.boostId);
            if (boost && !inventory.some(i => i.id === boost.id)) {
                inventory.push({ ...boost, type: 'boost', isFavorite: false });
            }
        }
        
        sfx.claim.currentTime=0; sfx.claim.play();
        playerStats.csPathClaimedTiers.push(tierData.tier);
        showErrorMessage(translateText('csPathRewardClaimed', {tier: tierData.tier}), 3000, {}, true);
        updateCsPathUI();
        updateUI();
    }
    
    function initializeGame(isReset = false) {
         currentLang = localStorage.getItem('gameLang') || 'tr'; 
         currentBalance = 1000;
         inventory = [];
         nextItemId = 0;
         lastWonItem = null;
         playerStats = { username: null, collection: {}, caseOpened: 0, totalMoneyEarned: 0, raritiesWon: {}, boughtBoost: 0, favoriteCount: 0, xp: 0, dailyRewardCycle: 0, lastClaimDate: null, csPathClaimedTiers: [], achievements: [], itemsSold: 0, inventoryCount: 0, casesOpenedToday: 0, lastCaseOpenDate: null, isMuted: false, luckEvent: null };
         autoSellRarities = [];
         if (isReset) {
            alert(translateText("gameReset"));
         }
         stopAutoOpen();
         updateAllUI();
         checkUsername();
    }

    function saveGameData() {
        try {
            const data = {
                balance: currentBalance, inventory, nextItemId, playerStats, autoSellRarities,
            };
            localStorage.setItem('gameData_v5', JSON.stringify(data));
            localStorage.setItem('gameLang', currentLang);
        } catch (e) { showErrorMessage("gameSavedError"); }
    }

    function loadGameData() {
        try {
            const savedData = localStorage.getItem('gameData_v5');
            currentLang = localStorage.getItem('gameLang') || 'tr';

            if (!savedData) { initializeGame(); return; }
            const data = JSON.parse(savedData);
            
            const defaultStats = { username: null, collection: {}, caseOpened: 0, totalMoneyEarned: 0, raritiesWon: {}, boughtBoost: 0, favoriteCount: 0, xp: 0, dailyRewardCycle: 0, lastClaimDate: null, csPathClaimedTiers: [], achievements: [], itemsSold: 0, inventoryCount: 0, casesOpenedToday: 0, lastCaseOpenDate: null, isMuted: false, luckEvent: null };
            
            currentBalance = data.balance ?? 1000;
            inventory = data.inventory ?? [];
            nextItemId = data.nextItemId ?? 0;
            playerStats = { ...defaultStats, ...(data.playerStats || {}) };
            // Ensure csPathClaimedTiers is an array
            if (!Array.isArray(playerStats.csPathClaimedTiers)) {
                playerStats.csPathClaimedTiers = [];
            }
            autoSellRarities = data.autoSellRarities ?? [];

            updateAllUI();
            checkUsername();
            console.log("Oyun başarıyla yüklendi!");
        } catch (e) {
            console.error("Yükleme hatası:", e);
            showErrorMessage("gameLoadedError");
            initializeGame(true);
        }
    }
    
    function setLanguage(lang) {
        currentLang = lang;
        saveGameData(); 
        document.documentElement.lang = lang.split('-')[0];

        document.querySelectorAll('[data-lang-key]').forEach(element => {
            const key = element.dataset.langKey;
            const translation = translateText(key);

            if (element.hasAttribute('placeholder')) {
                element.placeholder = translation;
                return;
            }
            
            const firstChild = element.childNodes[0];
            if (element.children.length === 0 || element.classList.contains('menu-text') || element.classList.contains('toggle-label')) {
                 element.textContent = translation;
            } else if (firstChild && firstChild.nodeType === Node.TEXT_NODE) {
                 firstChild.textContent = translation + ' ';
            }
        });
        
        updateLanguageButtons();
        updateUI();
        renderAchievements();
        updatePatchNotes();
        updateDailyRewardsUI();
        updateCsPathUI();
        updateAutoSellStatus();
        populateAdminItemSelect();
    }
    
    function updateUserProfile() {
      if (playerStats && playerStats.username) {
        dom.userProfileDisplay.style.display = 'flex';
        dom.profileUsername.textContent = playerStats.username;
        dom.profileAvatar.src = `https://api.dicebear.com/8.x/initials/svg?seed=${encodeURIComponent(playerStats.username)}`;
      } else {
        dom.userProfileDisplay.style.display = 'none';
      }
    }

    function updateAllUI() {
        setLanguage(currentLang);
        updateUI();
        populateBoostShop();
        loadAutoSellSettings();
        updateAutoOpenInfo();
        updateDailyRewardNotification();
        updateTime();
        toggleMute(playerStats.isMuted, true);
        populateAdminItemSelect();
        updateUserProfile();
        updateAutoOpenToggleVisibility();
    }

    function updateUI() {
        dom.balanceAmount.textContent = Math.round(currentBalance);
        dom.xpAmount.textContent = playerStats.xp;
        applyBoostEffects();
        updateInventory();
        saveGameData();
    }
    
    document.addEventListener('DOMContentLoaded', () => {
        dom.preloader.classList.add('hidden');
        dom.preloader.addEventListener('transitionend', () => dom.preloader.remove());
        
        loadGameData();
        
        setInterval(updateTime, 1000);
        hourlyEventInterval = setInterval(handleHourlyEvent, 1000);
        
        dom.openBtn.addEventListener("click", () => openCase(false));
        dom.sellItemBtn.addEventListener('click', () => { if(sellItem(currentModalItem)) closeModal('itemDetailsModal'); });
        dom.favoriteItemBtn.addEventListener('click', toggleFavorite);
        dom.rarityFilter.addEventListener('change', applyInventoryFilters);
        dom.typeFilter.addEventListener('change', applyInventoryFilters);
        dom.saveAutoSellBtn.addEventListener('click', saveAutoSellSettings);
        dom.autoOpenStartBtn.addEventListener('click', startAutoOpen);
        dom.autoOpenStopBtn.addEventListener('click', stopAutoOpen);
        dom.sellLastBtn.addEventListener('click', sellLastItem);
        dom.muteBtn.addEventListener('click', () => toggleMute());
        dom.saveUsernameBtn.addEventListener('click', saveUsername);
        dom.usernameInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') saveUsername(); });
        document.addEventListener('keydown', handleAdminPanelKey);
        dom.autoOpenToggle.addEventListener('change', (e) => {
            if (e.target.checked) {
                startAutoOpen();
            } else {
                stopAutoOpen();
            }
        });

        document.getElementById("main-menu-btn").addEventListener('click', () => {
            updateDailyRewardNotification();
            openModal('mainMenuModal');
        });
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (event) => {
                if (event.target === overlay && event.id !== 'usernameModal') {
                     closeModal(overlay.id);
                }
            });
        });
        document.querySelectorAll('#language-options button').forEach(button => {
            button.addEventListener('click', () => setLanguage(button.dataset.langCode));
        });
        document.querySelector('button[onclick="resetGameAndConfirm()"]').addEventListener('click', resetGameAndConfirm);
        document.querySelector('button[onclick="sellAllFilteredItems()"]').addEventListener('click', sellAllFilteredItems);
    });

    window.addEventListener('beforeunload', saveGameData);

    function updateLanguageButtons(){
        document.querySelectorAll('#language-options button').forEach(button => {
            button.classList.toggle('selected', button.dataset.langCode === currentLang);
        });
    }

    function updateTime() { dom.currentTime.textContent = new Date().toLocaleTimeString(currentLang.split('-')[0]); }

    function openItemDetailsModal(item) {
        currentModalItem = item; 
        const itemName = getTranslatedTextFromObject(item.name);
        dom.modalItemName.textContent = itemName;
        dom.modalItemImage.src = generateItemSVG(item.rarity, item.type);
        if (item.rarity === 'chroma') {
            dom.modalItemImage.style.borderImageSource = 'linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet)';
            dom.modalItemImage.style.animation = 'rgb-bg 4s linear infinite';
            dom.modalItemImage.style.backgroundSize = '400% 400%';
        } else {
            dom.modalItemImage.style.borderImageSource = 'none';
            dom.modalItemImage.style.animation = 'none';
            dom.modalItemImage.style.borderColor = rarityColors[item.rarity];
            dom.modalItemImage.style.boxShadow = `0 0 15px ${rarityColors[item.rarity]}`;
        }
        dom.modalItemRarity.textContent = translateText(`${item.rarity}Rarity`);
        dom.modalItemRarity.style.color = rarityColors[item.rarity];
        if (item.rarity === 'chroma') {
            dom.modalItemRarity.style.animation = 'rgb-text 4s linear infinite';
        } else {
            dom.modalItemRarity.style.animation = 'none';
        }
        dom.modalMessage.textContent = ''; 

        const isBoost = item.type === "boost";
        dom.sellItemBtn.style.display = isBoost ? 'none' : 'inline-block';
        dom.favoriteItemBtn.style.display = isBoost ? 'none' : 'inline-block';
        
        if (isBoost) {
            dom.modalItemSellPrice.textContent = translateText('boostCannotBeSold');
            dom.modalItemSellPrice.style.color = "#FFD700";
        } else {
            const sellPrice = calculateSellPrice(item);
            dom.modalItemSellPrice.textContent = `${translateText('sellBtn')}: ${sellPrice}$`;
            dom.modalItemSellPrice.style.color = "#00ff99";
            dom.favoriteItemBtn.classList.toggle('active', item.isFavorite);
            dom.favoriteItemBtn.textContent = item.isFavorite ? translateText('unfavoriteBtn') : translateText('favoriteBtn');
        }
        openModal('itemDetailsModal');
    }
    
    function sellItem(itemToSell) {
        if (!itemToSell) return false;
        if (itemToSell.type === "boost") {
            showErrorMessage('boostCannotBeSold');
            return false;
        }
        if (itemToSell.isFavorite) {
            showErrorMessage('cannotSellFavorite');
            return false;
        }

        const itemIndex = inventory.findIndex(i => i.id === itemToSell.id);
        if (itemIndex > -1) {
            const sellPrice = calculateSellPrice(itemToSell);
            currentBalance += sellPrice;
            playerStats.totalMoneyEarned += sellPrice;
            playerStats.itemsSold = (playerStats.itemsSold || 0) + 1;
            inventory.splice(itemIndex, 1);
            
            updateUI();
            checkAchievements();
            return true;
        } 
        return false;
    }
    
    function sellAllFilteredItems() {
        const itemsToSell = inventory.filter(item => {
            const rarityMatch = dom.rarityFilter.value === 'all' || item.rarity === dom.rarityFilter.value;
            const typeMatch = dom.typeFilter.value === 'all' || item.type === dom.typeFilter.value;
            return rarityMatch && typeMatch && item.type !== 'boost' && !item.isFavorite;
        });

        if (itemsToSell.length === 0) {
            showErrorMessage("noFilteredItemsToSell");
            return;
        }

        let totalSoldCount = 0;
        let totalSoldValue = 0;
        const idsToSell = itemsToSell.map(i => i.id);

        inventory = inventory.filter(item => {
            if (idsToSell.includes(item.id)) {
                const sellPrice = calculateSellPrice(item);
                currentBalance += sellPrice;
                playerStats.totalMoneyEarned += sellPrice;
                totalSoldValue += sellPrice;
                totalSoldCount++;
                return false;
            }
            return true;
        });
        playerStats.itemsSold = (playerStats.itemsSold || 0) + totalSoldCount;
        
        updateUI();
        showErrorMessage("filteredItemsSold", 5000, { count: totalSoldCount, value: totalSoldValue }, true);
        checkAchievements();
    }
    
    function toggleFavorite() {
        if (!currentModalItem || currentModalItem.type === "boost") return;
        const item = inventory.find(i => i.id === currentModalItem.id);
        if (item) {
            item.isFavorite = !item.isFavorite;
            const itemName = getTranslatedTextFromObject(item.name);
            dom.modalMessage.textContent = translateText(item.isFavorite ? 'favoriteAdded' : 'favoriteRemoved', { item: itemName });
            dom.favoriteItemBtn.classList.toggle('active', item.isFavorite);
            dom.favoriteItemBtn.textContent = item.isFavorite ? translateText('unfavoriteBtn') : translateText('favoriteBtn');
            updateInventory();
            checkAchievements();
        }
    }
    
    function populateBoostShop() {
        dom.boostsContainer.innerHTML = '';
        dom.noBoostsMessage.style.display = boostsData.length === 0 ? 'block' : 'none';
        boostsData.forEach(boost => {
            const hasBoost = inventory.some(item => item.id === boost.id);
            const boostEl = document.createElement("button");
            boostEl.className = `boost-item ${boost.rarity}-boost ${hasBoost ? 'disabled' : ''}`;
            boostEl.innerHTML = `
                <div class="boost-name">${getTranslatedTextFromObject(boost.name)}</div>
                <div class="boost-description">${getTranslatedTextFromObject(boost.description)}</div>
                <div class="boost-price">${boost.price}$</div>
            `;
            boostEl.disabled = hasBoost;
            boostEl.addEventListener('click', () => buyBoost(boost));
            dom.boostsContainer.appendChild(boostEl);
        });
    }

    function buyBoost(boost) {
        if (inventory.some(item => item.id === boost.id)) {
            showErrorMessage("boostAlreadyOwned");
            return;
        }
        if (currentBalance < boost.price) {
            showErrorMessage("notEnoughBalance", 3000, { cost: boost.price });
            return;
        }
        currentBalance -= boost.price;
        inventory.push({ ...boost, type: "boost", isFavorite: false });
        playerStats.boughtBoost++; 
        updateUI();
        populateBoostShop();
        showErrorMessage(translateText('boostPurchased', { boostName: getTranslatedTextFromObject(boost.name) }), 3000, {}, true);
        sfx.win.currentTime = 0; sfx.win.play();
        checkAchievements();
    }
    
    function startAutoOpen() {
        const completedCount = playerStats.achievements.filter(a => a.completed).length;
        if (completedCount < 5) {
            showErrorMessage("autoOpenMinAchievements", 5000, { count: completedCount });
            syncAutoOpenState(false);
            return;
        }
        if(autoOpenInterval) return;

        syncAutoOpenState(true);
        autoOpenedCases = 0;
        autoOpenInterval = setInterval(async () => {
            if (currentBalance < currentCaseCost || playerStats.casesOpenedToday >= DAILY_CASE_LIMIT) {
                stopAutoOpen();
                return;
            }
            await openCase(true);
            autoOpenedCases++;
            dom.autoOpenCount.textContent = `${translateText('casesOpened')} ${autoOpenedCases}`;
        }, 4000);
    }
    
    function stopAutoOpen() {
        if (autoOpenInterval) {
            clearInterval(autoOpenInterval);
            autoOpenInterval = null;
            showErrorMessage("autoOpenStopped", 3000);
        }
        syncAutoOpenState(false);
    }
    
    function syncAutoOpenState(isOpening) {
        dom.openBtn.disabled = isOpening;
        dom.autoOpenToggle.checked = isOpening;
        dom.autoOpenStartBtn.disabled = isOpening;
        dom.autoOpenStopBtn.disabled = !isOpening;
    }

    function updateAutoOpenToggleVisibility() {
        if (!playerStats || !playerStats.achievements) {
            dom.autoOpenToggleContainer.style.display = 'none';
            return;
        }
        const completedCount = playerStats.achievements.filter(a => a.completed).length;
        if (completedCount >= 5) {
            dom.autoOpenToggleContainer.style.display = 'inline-flex';
        } else {
            dom.autoOpenToggleContainer.style.display = 'none';
        }
    }
    
    function updateAutoOpenInfo() {
        const completedCount = playerStats.achievements.filter(a => a.completed).length;
        dom.autoOpenInfo.textContent = translateText("autoOpenMinAchievements", { count: completedCount });
        dom.autoOpenStartBtn.disabled = completedCount < 5 || autoOpenInterval;
    }
    
    function updateDailyRewardNotification() {
        const today = new Date().toDateString();
        const claimAvailable = playerStats.lastClaimDate !== today;
        const notificationDot = dom.dailyRewardsMenuBtn.querySelector('.notification-dot');
        if (claimAvailable && !notificationDot) {
            const dot = document.createElement('div');
            dot.className = 'notification-dot';
            dom.dailyRewardsMenuBtn.appendChild(dot);
        } else if (!claimAvailable && notificationDot) {
            notificationDot.remove();
        }
    }

    function showErrorMessage(key, time = 3000, replacements = {}, isPositive = false) { 
        dom.errorMessage.style.color = isPositive ? '#00ff99' : '#ff4d4d';
        dom.errorMessage.textContent = translateText(key, replacements);
        dom.errorMessage.classList.add("show");
        setTimeout(() => dom.errorMessage.classList.remove("show"), time);
    } 

    function resetGameAndConfirm() { 
        if (confirm(translateText("confirmResetGame"))) {
            stopAutoOpen();
            clearInterval(hourlyEventInterval);
            clearInterval(dailyRewardTimerInterval);
            localStorage.clear();
            location.reload();
        }
    }

    function sellLastItem() {
        if (lastWonItem && inventory.some(i => i.id === lastWonItem.id)) {
            if (sellItem(lastWonItem)) {
                showErrorMessage(translateText('itemSold', { item: getTranslatedTextFromObject(lastWonItem.name), price: calculateSellPrice(lastWonItem) }), 3000, {}, true);
                lastWonItem = null;
                dom.sellLastBtn.disabled = true;
            }
        } else {
            showErrorMessage('noSellableItem');
            dom.sellLastBtn.disabled = true;
        }
    }

    function toggleMute(forceState, initializing = false) {
        if (!initializing) {
            playerStats.isMuted = !playerStats.isMuted;
        } else {
            playerStats.isMuted = forceState ?? false;
        }

        for (const sound in sfx) {
            sfx[sound].muted = playerStats.isMuted;
        }
        dom.muteIconContainer.innerHTML = playerStats.isMuted ? svgIcons.volumeOff : svgIcons.volumeOn;
        if(!initializing) saveGameData();
    }

    function checkUsername() {
        if (!playerStats.username) {
            openModal('usernameModal');
        }
    }

    function saveUsername() {
        const username = dom.usernameInput.value.trim();
        if (username) {
            playerStats.username = username;
            saveGameData();
            closeModal('usernameModal');
            updateUserProfile();
        }
    }

    function showGlobalAnnouncement(username, itemData) {
        const itemName = getTranslatedTextFromObject(itemData.name);
        dom.globalAnnouncement.innerHTML = `🏆 ${translateText('globalAnnouncement', { username, itemName })}`;
        dom.globalAnnouncement.classList.add('show');
        setTimeout(() => {
            dom.globalAnnouncement.classList.remove('show');
        }, 6000);
    }

    function renderCollection() {
        dom.collectionGrid.innerHTML = '';
        let foundCount = 0;
        itemsData.forEach(item => {
            if (playerStats.collection[item.id]) {
                foundCount++;
            }
            dom.collectionGrid.appendChild(createItemElement(item, true));
        });
        dom.collectionProgress.textContent = `${translateText('collectionProgress')} ${foundCount} / ${itemsData.length}`;
        if (foundCount === itemsData.length) {
            dom.collectionProgress.textContent += ` - ${translateText('allItemsCollected')}`;
        }
    }

    function renderProbabilityTable() {
        dom.probabilityTableBody.innerHTML = '';
        Object.keys(rarityWeights).sort((a,b) => rarityOrder[b] - rarityOrder[a]).forEach(rarity => {
            const chance = rarityWeights[rarity] * 100;
            const row = dom.probabilityTableBody.insertRow();
            row.innerHTML = `
                <td><span style="color:${rarityColors[rarity]}; font-weight: bold; ${rarity === 'chroma' ? 'animation: rgb-text 4s linear infinite;' : ''}">${translateText(`${rarity}Rarity`)}</span></td>
                <td>${chance.toFixed(4)}%</td>
            `;
        });
    }

    function handleAdminPanelKey(event) {
        if (event.ctrlKey && event.altKey && (event.key === 'a' || event.key === 'A')) {
            event.preventDefault();
            const password = prompt("Admin şifresini girin:");
            if (password === ADMIN_PASSWORD) {
                openModal('adminPanelModal');
            } else if (password) {
                alert("Yanlış şifre!");
            }
        }
    }

    function populateAdminItemSelect() {
        dom.adminItemSelect.innerHTML = '';
        itemsData.forEach(item => {
            const option = document.createElement('option');
            option.value = item.id;
            option.textContent = getTranslatedTextFromObject(item.name);
            dom.adminItemSelect.appendChild(option);
        });
    }

    function adminAddBalance() {
        const amount = parseInt(document.getElementById('adminBalance').value, 10);
        if (!isNaN(amount)) {
            currentBalance += amount;
            updateUI();
        }
    }

    function adminAddXp() {
        const amount = parseInt(document.getElementById('adminXp').value, 10);
        if (!isNaN(amount)) {
            playerStats.xp += amount;
            updateUI();
            updateCsPathUI();
        }
    }

    function adminAddItem() {
        const itemId = dom.adminItemSelect.value;
        const itemData = itemsData.find(i => i.id === itemId);
        if (itemData) {
            const newItem = { ...itemData, id: nextItemId++, type: "item", isFavorite: false };
            inventory.push(newItem);
            updateInventory();
            saveGameData();
        }
    }

    function handleHourlyEvent() {
        const now = new Date();
        const minutes = now.getMinutes();
        const eventDurationMinutes = 5; 

        const currentEvent = playerStats.luckEvent;
        const isEventActive = currentEvent && now < new Date(currentEvent.endTime);

        if (minutes < eventDurationMinutes && !isEventActive) {
            const multiplier = Math.floor(Math.random() * 9) + 2; // 2x to 10x
            const endTime = new Date(now);
            endTime.setMinutes(eventDurationMinutes, 0, 0); 
            
            if (!currentEvent || new Date(currentEvent.endTime) < now) {
                playerStats.luckEvent = { multiplier, endTime: endTime.toISOString() };
                updateUI(); // Recalculate odds
            }
        }

        const newEventActiveState = playerStats.luckEvent && now < new Date(playerStats.luckEvent.endTime);
        
        if (newEventActiveState) {
            dom.body.classList.add('event-active');
            dom.eventTimerBar.style.display = 'block';

            const endTime = new Date(playerStats.luckEvent.endTime);
            const diff = endTime.getTime() - now.getTime();
            
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);

            dom.eventTimerBar.innerHTML = `
                <span>${translateText('luckEventActive', { multiplier: playerStats.luckEvent.multiplier })}</span>
                <span style="margin: 0 10px;">|</span>
                <span>${translateText('luckEventEnds')} ${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}</span>
            `;
        } else {
             if (currentEvent) {
                playerStats.luckEvent = null;
                updateUI();
            }
            dom.body.classList.remove('event-active');
            dom.eventTimerBar.style.display = 'none';
        }
    }

  </script>
</body>
</html>
